{"version":3,"file":"lob.js","sources":["..//home/peter/Workshop14/lob/client/app.js","..//home/peter/Workshop14/lob/client/utils/dom.js","..//home/peter/Workshop14/lob/client/client.js"],"sourcesContent":["/* jshint esnext: true */\n// import Store from \"./store\";\n\nexport default function App(actions){\n  var services = {};\n  var components = {};\n  // var store = Store();\n  // actions.newReading.register(store.newReading);\n  // actions.startStreaming.register(store.startStreaming);\n\n  return {\n    registerService: function(name, factory){\n      services[name] ={factory: factory};\n    },\n    getService: function(name){\n      var service = services[name];\n      if (service.instance) { return service.instance; }\n      return service.instance = service.factory(this);\n    },\n    registerComponent: function(name, factory){\n      components[name] ={factory: factory};\n    },\n    // name optional get from element data attribute\n    startComponent: function(element, name){\n      var component = components[name];\n      console.log(components)\n      return component.factory(element, this);\n    },\n    actions: actions,\n    // store: store\n  };\n}\n","/* jshint esnext: true */\n\nexport function ready(fn) {\n  if (document.readyState !== \"loading\"){\n    fn();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n}\n","/* jshint esnext: true */\nconsole.log(\"starting Client\");\n\nimport App from \"./app\";\n\nvar MyApp = App();\nMyApp.registerComponent(\"avionics\", function(element, enviroment){\n  // could pass on reading / on error into start\n  enviroment.getService(\"accelerometer\").start();\n  console.log(\"mounting avionics component\");\n});\n\nimport { ready } from \"./utils/dom\";\n\nready(function(){\n  var $avionics = document.querySelector(\"[data-interface]\");\n  var avionics = MyApp.startComponent($avionics, \"avionics\");\n});\n"],"names":[],"mappings":";;IAAA;;iBAG4B,OAAO;QACjC,IAAI,QAAQ,GAAG,EAAE;QACjB,IAAI,UAAU,GAAG,EAAE;;;;QAKnB,OAAO;YACL,eAAe,EAAE,UAAS,IAAI,EAAE,OAAO;gBACrC,QAAQ,CAAC,IAAI,CAAC,GAAE,EAAC,OAAO,EAAE,OAAO,EAAC;aACnC;YACD,UAAU,EAAE,UAAS,IAAI;gBACvB,IAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAC5B,IAAI,OAAO,CAAC,QAAQ,EAAE;oBAAE,OAAO,OAAO,CAAC,QAAQ;;gBAC/C,OAAO,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;aAChD;YACD,iBAAiB,EAAE,UAAS,IAAI,EAAE,OAAO;gBACvC,UAAU,CAAC,IAAI,CAAC,GAAE,EAAC,OAAO,EAAE,OAAO,EAAC;aACrC;;YAED,cAAc,EAAE,UAAS,OAAO,EAAE,IAAI;gBACpC,IAAI,SAAS,GAAG,UAAU,CAAC,IAAI,CAAC;gBAChC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;gBACvB,OAAO,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC;aACxC;YACD,OAAO,EAAE,OAAO;SAEjB;;;IC9BH;mBAEsB,EAAE;QACtB,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAC;YACpC,EAAE,EAAE;;aACC;YACL,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,EAAE,CAAC;;;;ICNrD;IACA,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC;IAI9B,IAAI,KAAK,GAAG,GAAG,EAAE;IACjB,KAAK,CAAC,iBAAiB,CAAC,UAAU,EAAE,UAAS,OAAO,EAAE,UAAU;;QAE9D,UAAU,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE;QAC9C,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC;KAC3C,CAAC;IAIF,KAAK,CAAC;QACJ,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC;QAC1D,IAAI,QAAQ,GAAG,KAAK,CAAC,cAAc,CAAC,SAAS,EAAE,UAAU,CAAC;KAC3D,CAAC;;"}