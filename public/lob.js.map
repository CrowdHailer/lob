{"version":3,"file":"lob.js","sources":["..//home/peter/Workshop14/lob/client/utils/logger.js","..//home/peter/Workshop14/lob/client/app.js","..//home/peter/Workshop14/lob/client/vendor/gator.js","..//home/peter/Workshop14/lob/client/avionics/avionics.js","..//home/peter/Workshop14/lob/client/utils/dom.js","..//home/peter/Workshop14/lob/client/client.js"],"sourcesContent":["/* jshint esnext: true */\n\n\nexport function create (prefix){\n  prefix = \"[\" + prefix + \"]\";\n  var notices = [prefix];\n  return {\n    info: function(..._){\n      var args = Array.prototype.slice.call(arguments);\n      console.info.apply(console, notices.concat(args));\n    },\n    warn: function(..._){\n      var args = Array.prototype.slice.call(arguments);\n      console.warn.apply(console, notices.concat(args));\n    },\n    // error: function(..._){\n    //   var args = Array.prototype.slice.call(arguments);\n    //   console.error.apply(console, notices.concat(args));\n    // }\n    error: function(e){ throw e; }\n  };\n}\n\nexport function Development(options, logger){\n  var prefix;\n  var notices = [];\n  if (options.prefix){\n    prefix = \"[\" + options.prefix + \"]\";\n    notices = notices.concat(prefix);\n  }\n  var argsToArray = function(args){\n    return Array.prototype.slice.call(args);\n  };\n  function debug(){\n    logger.debug.apply(logger, notices.concat(argsToArray(arguments)));\n  }\n  function info(){\n    logger.info.apply(logger, notices.concat(argsToArray(arguments)));\n  }\n  function warn(a){\n    var args = argsToArray(arguments);\n    logger.warn.apply(logger, notices.concat(args));\n  }\n  function error(e){\n    throw e;\n  }\n  return {\n    debug: debug,\n    info: info,\n    warn: warn,\n    error: error,\n  };\n}\n\nexport var DEFAULT = {\n  info: function(){  },\n  warn: function(){  },\n  // error logging should be used for errors and in development these should be thrown\n  error: function(e){ throw e; }\n};\n\nexport var NullLogger = {\n  info: function(a){  },\n  warn: function(a){  },\n  error: function(a){  },\n};\n","/* jshint esnext: true */\n// import Store from \"./store\";\n\nimport { DEFAULT } from \"./utils/logger\";\n\nexport default function App(actions, logger){\n  if (logger == void 0){ logger = DEFAULT; }\n  var services = {};\n  var components = {};\n  // var store = Store();\n  // actions.newReading.register(store.newReading);\n  // actions.startStreaming.register(store.startStreaming);\n\n  return {\n    registerService: function(name, factory){\n      if (services[name]) {\n        logger.error(new TypeError(\"Service name already registered: \" + name));\n        return;\n      }\n\n      services[name] = {\n        factory: factory\n      };\n    },\n    fetchService: function(name){\n      var service = services[name];\n      if (!service){\n        logger.error(new TypeError(\"Service not found: \" + name));\n        return;\n      }\n\n      if (service.instance) { return service.instance; }\n\n      service.instance = service.factory(this);\n      return service.instance;\n    },\n    registerComponent: function(name, factory){\n      components[name] ={factory: factory};\n    },\n    // name optional get from element data attribute\n    startComponent: function(element, name){\n      var component = components[name];\n      return component.factory(element, this);\n    },\n    actions: actions,\n    logger: logger\n    // store: store\n  };\n}\n","/**\n * Copyright 2014 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * GATOR.JS\n * Simple Event Delegation\n *\n * @version 1.2.4\n *\n * Compatible with IE 9+, FF 3.6+, Safari 5+, Chrome\n *\n * Include legacy.js for compatibility with older browsers\n *\n *             .-._   _ _ _ _ _ _ _ _\n *  .-''-.__.-'00  '-' ' ' ' ' ' ' ' '-.\n * '.___ '    .   .--_'-' '-' '-' _'-' '._\n *  V: V 'vv-'   '_   '.       .'  _..' '.'.\n *    '=.____.=_.--'   :_.__.__:_   '.   : :\n *            (((____.-'        '-.  /   : :\n *                              (((-'\\ .' /\n *                            _____..'  .'\n *                           '-._____.-'\n */\n    var _matcher,\n        _level = 0,\n        _id = 0,\n        _handlers = {},\n        _gatorInstances = {};\n\n    function _addEvent(gator, type, callback) {\n\n        // blur and focus do not bubble up but if you use event capturing\n        // then you will get them\n        var useCapture = type == 'blur' || type == 'focus';\n        gator.element.addEventListener(type, callback, useCapture);\n    }\n\n    function _cancel(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    /**\n     * returns function to use for determining if an element\n     * matches a query selector\n     *\n     * @returns {Function}\n     */\n    function _getMatcher(element) {\n        if (_matcher) {\n            return _matcher;\n        }\n\n        if (element.matches) {\n            _matcher = element.matches;\n            return _matcher;\n        }\n\n        if (element.webkitMatchesSelector) {\n            _matcher = element.webkitMatchesSelector;\n            return _matcher;\n        }\n\n        if (element.mozMatchesSelector) {\n            _matcher = element.mozMatchesSelector;\n            return _matcher;\n        }\n\n        if (element.msMatchesSelector) {\n            _matcher = element.msMatchesSelector;\n            return _matcher;\n        }\n\n        if (element.oMatchesSelector) {\n            _matcher = element.oMatchesSelector;\n            return _matcher;\n        }\n\n        // if it doesn't match a native browser method\n        // fall back to the gator function\n        _matcher = Gator.matchesSelector;\n        return _matcher;\n    }\n\n    /**\n     * determines if the specified element matches a given selector\n     *\n     * @param {Node} element - the element to compare against the selector\n     * @param {string} selector\n     * @param {Node} boundElement - the element the listener was attached to\n     * @returns {void|Node}\n     */\n    function _matchesSelector(element, selector, boundElement) {\n\n        // no selector means this event was bound directly to this element\n        if (selector == '_root') {\n            return boundElement;\n        }\n\n        // if we have moved up to the element you bound the event to\n        // then we have come too far\n        if (element === boundElement) {\n            return;\n        }\n\n        // if this is a match then we are done!\n        if (_getMatcher(element).call(element, selector)) {\n            return element;\n        }\n\n        // if this element did not match but has a parent we should try\n        // going up the tree to see if any of the parent elements match\n        // for example if you are looking for a click on an <a> tag but there\n        // is a <span> inside of the a tag that it is the target,\n        // it should still work\n        if (element.parentNode) {\n            _level++;\n            return _matchesSelector(element.parentNode, selector, boundElement);\n        }\n    }\n\n    function _addHandler(gator, event, selector, callback) {\n        if (!_handlers[gator.id]) {\n            _handlers[gator.id] = {};\n        }\n\n        if (!_handlers[gator.id][event]) {\n            _handlers[gator.id][event] = {};\n        }\n\n        if (!_handlers[gator.id][event][selector]) {\n            _handlers[gator.id][event][selector] = [];\n        }\n\n        _handlers[gator.id][event][selector].push(callback);\n    }\n\n    function _removeHandler(gator, event, selector, callback) {\n\n        // if there are no events tied to this element at all\n        // then don't do anything\n        if (!_handlers[gator.id]) {\n            return;\n        }\n\n        // if there is no event type specified then remove all events\n        // example: Gator(element).off()\n        if (!event) {\n            for (var type in _handlers[gator.id]) {\n                if (_handlers[gator.id].hasOwnProperty(type)) {\n                    _handlers[gator.id][type] = {};\n                }\n            }\n            return;\n        }\n\n        // if no callback or selector is specified remove all events of this type\n        // example: Gator(element).off('click')\n        if (!callback && !selector) {\n            _handlers[gator.id][event] = {};\n            return;\n        }\n\n        // if a selector is specified but no callback remove all events\n        // for this selector\n        // example: Gator(element).off('click', '.sub-element')\n        if (!callback) {\n            delete _handlers[gator.id][event][selector];\n            return;\n        }\n\n        // if we have specified an event type, selector, and callback then we\n        // need to make sure there are callbacks tied to this selector to\n        // begin with.  if there aren't then we can stop here\n        if (!_handlers[gator.id][event][selector]) {\n            return;\n        }\n\n        // if there are then loop through all the callbacks and if we find\n        // one that matches remove it from the array\n        for (var i = 0; i < _handlers[gator.id][event][selector].length; i++) {\n            if (_handlers[gator.id][event][selector][i] === callback) {\n                _handlers[gator.id][event][selector].splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    function _handleEvent(id, e, type) {\n        if (!_handlers[id][type]) {\n            return;\n        }\n\n        var target = e.target || e.srcElement,\n            selector,\n            match,\n            matches = {},\n            i = 0,\n            j = 0;\n\n        // find all events that match\n        _level = 0;\n        for (selector in _handlers[id][type]) {\n            if (_handlers[id][type].hasOwnProperty(selector)) {\n                match = _matchesSelector(target, selector, _gatorInstances[id].element);\n\n                if (match && Gator.matchesEvent(type, _gatorInstances[id].element, match, selector == '_root', e)) {\n                    _level++;\n                    _handlers[id][type][selector].match = match;\n                    matches[_level] = _handlers[id][type][selector];\n                }\n            }\n        }\n\n        // stopPropagation() fails to set cancelBubble to true in Webkit\n        // @see http://code.google.com/p/chromium/issues/detail?id=162270\n        e.stopPropagation = function() {\n            e.cancelBubble = true;\n        };\n\n        for (i = 0; i <= _level; i++) {\n            if (matches[i]) {\n                for (j = 0; j < matches[i].length; j++) {\n                    if (matches[i][j].call(matches[i].match, e) === false) {\n                        Gator.cancel(e);\n                        return;\n                    }\n\n                    if (e.cancelBubble) {\n                        return;\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * binds the specified events to the element\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @param {boolean=} remove\n     * @returns {Object}\n     */\n    function _bind(events, selector, callback, remove) {\n\n        // fail silently if you pass null or undefined as an alement\n        // in the Gator constructor\n        if (!this.element) {\n            return;\n        }\n\n        if (!(events instanceof Array)) {\n            events = [events];\n        }\n\n        if (!callback && typeof(selector) == 'function') {\n            callback = selector;\n            selector = '_root';\n        }\n\n        var id = this.id,\n            i;\n\n        function _getGlobalCallback(type) {\n            return function(e) {\n                _handleEvent(id, e, type);\n            };\n        }\n\n        for (i = 0; i < events.length; i++) {\n            if (remove) {\n                _removeHandler(this, events[i], selector, callback);\n                continue;\n            }\n\n            if (!_handlers[id] || !_handlers[id][events[i]]) {\n                Gator.addEvent(this, events[i], _getGlobalCallback(events[i]));\n            }\n\n            _addHandler(this, events[i], selector, callback);\n        }\n\n        return this;\n    }\n\n    /**\n     * Gator object constructor\n     *\n     * @param {Node} element\n     */\n    function Gator(element, id) {\n\n        // called as function\n        if (!(this instanceof Gator)) {\n            // only keep one Gator instance per node to make sure that\n            // we don't create a ton of new objects if you want to delegate\n            // multiple events from the same node\n            //\n            // for example: Gator(document).on(...\n            for (var key in _gatorInstances) {\n                if (_gatorInstances[key].element === element) {\n                    return _gatorInstances[key];\n                }\n            }\n\n            _id++;\n            _gatorInstances[_id] = new Gator(element, _id);\n\n            return _gatorInstances[_id];\n        }\n\n        this.element = element;\n        this.id = id;\n    }\n\n    /**\n     * adds an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\n    Gator.prototype.on = function(events, selector, callback) {\n        return _bind.call(this, events, selector, callback);\n    };\n\n    /**\n     * removes an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\n    Gator.prototype.off = function(events, selector, callback) {\n        return _bind.call(this, events, selector, callback, true);\n    };\n\n    Gator.matchesSelector = function() {};\n    Gator.cancel = _cancel;\n    Gator.addEvent = _addEvent;\n    Gator.matchesEvent = function() {\n        return true;\n    };\n\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Gator;\n    }\n\nexport default Gator;\n","/* jshint esnext: true */\n\nimport Events from \"../vendor/gator.js\";\n\nfunction Controller($root, app){\n  var events = Events($root);\n  events.on(\"click\", \"[data-command~=reset]\", function(evt){\n    app.resetReadings();\n  });\n}\n\nexport default function create($root, app){\n  app.fetchService(\"accelerometer\").start();\n  app.fetchService(\"uplink\").startTransmission();\n  console.log(\"mounting avionics component\");\n  var controller = Controller($root, app.actions);\n}\n","/* jshint esnext: true */\n\nexport function ready(fn) {\n  if (document.readyState !== \"loading\"){\n    fn();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n}\n","/* jshint esnext: true */\nconsole.log(\"starting Client\");\n\nimport App from \"./app\";\nimport { Development } from \"./utils/logger\";\n\nvar MyApp = App({}, Development({prefix: \"Lob\"}, window.console));\nMyApp.registerService(\"accelerometer\", function(app){\n  return {\n    start: function(){\n      app.logger.warn(\"accelerometer\");\n    }\n  };\n});\n\nMyApp.registerService(\"uplink\", function(app){\n  return {\n    startTransmission: function(){\n      app.logger.debug(\"Started Transmission\");\n    }\n  };\n});\n\nimport Avionics from \"./avionics/avionics\";\nMyApp.registerComponent(\"avionics\", Avionics);\n\nimport { ready } from \"./utils/dom\";\n\nready(function(){\n  var $avionics = document.querySelector(\"[data-interface]\");\n  var avionics = MyApp.startComponent($avionics, \"avionics\");\n});\n"],"names":["create","Avionics"],"mappings":"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"}