{"version":3,"file":"tracker.js","sources":["..//home/peter/Workshop14/lob/client/carbide/key-error.js","..//home/peter/Workshop14/lob/client/carbide/struct.js","..//home/peter/Workshop14/lob/client/tracker/state.js","..//home/peter/Workshop14/lob/client/tracker/tracker.js","..//home/peter/Workshop14/lob/client/lib/reading.js","..//home/peter/Workshop14/lob/client/tracker/showcase.js","..//home/peter/Workshop14/lob/node_modules/strict-uri-encode/index.js","..//home/peter/Workshop14/lob/node_modules/query-string/index.js","..//home/peter/Workshop14/lob/client/router.js","..//home/peter/Workshop14/lob/client/tracker.js"],"sourcesContent":["/* jshint esnext: true */\n\nexport function KeyError(key) {\n  this.name = \"KeyError\";\n  this.message = \"key \\\"\" + key + \"\\\" not found\";\n  this.stack = (new Error()).stack;\n}\nKeyError.prototype = Object.create(Error.prototype);\nKeyError.prototype.constructor = KeyError;\n\nexport default KeyError;\n","/* jshint esnext: true */\n\nimport KeyError from \"./key-error\";\n\nexport function Struct(defaults, source){\n  \"use strict\";\n  if ( !(this instanceof Struct) ) { return new Struct(defaults, source); }\n\n  Object.assign(this, defaults);\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (!this.hasOwnProperty(key)) {\n        throw new KeyError(key);\n      }\n      this[key] = source[key];\n    }\n  }\n  Object.freeze(this);\n}\n\nStruct.prototype.hasKey = function (key) {\n  return Object.keys(this).indexOf(key) !== -1;\n};\n\nStruct.prototype.fetch = function (key) {\n  if (this.hasKey(key)) {\n    return this[key];\n  } else {\n    throw new KeyError(key);\n  }\n};\n\nStruct.prototype.set = function (key, value) {\n  if (this[key] === value) {\n    return this;\n  }\n  var tmp = {};\n  tmp[key] = value;\n  return this.merge(tmp);\n};\n\nStruct.prototype.update = function (key, operation) {\n  return this.set(key, operation(this[key]));\n};\n\nStruct.prototype.merge = function (other) {\n  return Struct(this, other);\n};\n\nexport default Struct;\n","/* jshint esnext: true */\n\nimport Struct from \"../carbide/struct\";\n\nvar STATE_DEFAULTS = {\n  uplinkStatus: \"UNKNOWN\",\n  liveFlight: [],\n  flightSnapshot: null,\n  lockedToLiveTracking: false\n};\n\nfunction State(raw){\n  if ( !(this instanceof State) ) { return new State(raw); }\n\n  return Struct.call(this, STATE_DEFAULTS, raw);\n}\n\nState.prototype = Object.create(Struct.prototype);\nState.prototype.constructor = State;\n\nexport default State;\n","/* jshint esnext: true */\n\nimport State from \"./state\";\n\nfunction isInFlight(reading){\n  // DEBT magic number\n  return reading.magnitude < 4;\n}\n\nfunction lastInArray(array){\n  return array[array.length - 1];\n}\n\nfunction lastNInArray(n, array){\n  return array.slice(Math.max(array.length - n, 0));\n}\n\nvar TRACKER_INVALID_STATE_MESSAGE = \"Tracker did not recieve valid initial state\";\n\nfunction Tracker(state, world){\n  if ( !(this instanceof Tracker) ) { return new Tracker(state, world); }\n  try {\n    state = State(state || {});\n  } catch (e) {\n    // alert(e); DEBT throws in tests\n    throw new TypeError(TRACKER_INVALID_STATE_MESSAGE);\n    // return; // Will be needed if we move the error handling to logger\n  }\n  var tracker = this;\n  tracker.state = state;\n  // DEBT return to external assignment\n  world = world || {};\n  tracker.logger = world.logger // Or error causing of silent version;\n\n  tracker.uplinkAvailable = function(){\n    // Set state action can cause projection to exhibit new state\n    tracker.state = tracker.state.set(\"uplinkStatus\", \"AVAILABLE\");\n    // call log change. test listeners that the state has changed.\n    logInfo(\"[Uplink Available]\");\n    showcase(tracker.state);\n  };\n\n  tracker.newReading = function(reading){\n    var wasInFlight = lastInArray(tracker.state.liveFlight) && isInFlight(lastInArray(tracker.state.liveFlight));\n    var isNowGrounded = !isInFlight(reading);\n    if (wasInFlight && isNowGrounded) {\n      setTimeout(function () {\n        console.log('pause the reading');\n        // pause the reading\n      }, 1000);\n    }\n\n    var state = tracker.state.update(\"liveFlight\", function(readings){\n      readings = readings.concat(reading);\n      return lastNInArray(5, readings);\n    });\n    // simplest is to just start timer\n    // here to add timer controller\n    tracker.state = state; // Assign at end to work as transaction\n    showcase(state);\n    logEvent(\"New reading\");\n  };\n\n  tracker.takeSnapshot = function(){\n    // Only if not locked live\n    // Only if current flight has content\n    var state = tracker.state.set('flightSnapshot', tracker.state.liveFlight);\n\n    tracker.state = state; // Assign at end to work as transaction\n    showcase(state);\n    logEvent(\"Taken snapshot\");\n  };\n\n  // watchlivetracking\n  // locklivetracking\n  // unlocklivetracking\n  function logEvent() {\n    tracker.logger.debug.apply(tracker.logger, arguments);\n  }\n  function logInfo() {\n    tracker.logger.info.apply(tracker.logger, arguments);\n  }\n  function showcase(state) {\n    tracker.showcase.update(state);\n  }\n\n  function projectState(state){\n    return state;\n  }\n\n  // The tracker application has an internal state.\n  // All observers know that the can watch a given projection of that state\n  // project and present overloaded verbs.\n  // options showcase or exhibit\n  // function showcase(state){\n  //   // The tracker just cares that its state is shown somewhere\n  //   tracker.showcase.dispatch(state);\n  // }\n\n\n\n  tracker.resetReadings = function(){\n  };\n}\n\nexport default Tracker;\n","/* jshint esnext: true */\nfunction isRational(x, other) {\n  if (typeof x !== \"number\"){\n    return false;\n  }\n  if (!isFinite(x)){\n    return false;\n  }\n  var rest = Array.prototype.slice.call(arguments, 1);\n  if (rest.length > 0) {\n    return isRational.apply(this, rest);\n  }\n  return true;\n}\n\nfunction roundtoFour(number) {\n  return parseFloat(number.toFixed(4));\n}\n\nexport default function Reading(raw){\n  if ( !(this instanceof Reading) ) { return new Reading(raw); }\n\n  this.x = raw.x;\n  this.y = raw.y;\n  this.z = raw.z;\n  this.timestamp = raw.timestamp;\n\n  if (!isRational(this.x, this.y, this.z, this.timestamp)) {\n    throw new TypeError(\"Reading should have numerical values for x, y, z & timestamp\");\n  }\n}\n\nObject.defineProperty(Reading.prototype, \"magnitude\", {\n  get: function(){\n    return roundtoFour(Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z));\n  }\n});\n","/* jshint esnext: true */\n\nexport default function TrackerShowcase(window){\n  if ( !(this instanceof TrackerShowcase) ) { return new TrackerShowcase(window); }\n\n  this.update = function(projection){\n    console.log('projection', projection);\n  };\n}\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16);\n\t});\n};\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n\tif (typeof str !== 'string') {\n\t\treturn {};\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn {};\n\t}\n\n\treturn str.split('&').reduce(function (ret, param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\tkey = decodeURIComponent(key);\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\tret[key] = val;\n\t\t} else if (Array.isArray(ret[key])) {\n\t\t\tret[key].push(val);\n\t\t} else {\n\t\t\tret[key] = [ret[key], val];\n\t\t}\n\n\t\treturn ret;\n\t}, {});\n};\n\nexports.stringify = function (obj) {\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn key;\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\treturn val.sort().map(function (val2) {\n\t\t\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val2);\n\t\t\t}).join('&');\n\t\t}\n\n\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","/* jshint esnext: true */\n\nimport * as QString from \"query-string\";\n\n// Pass in window not location in case state is needed\n// Router should always return some value of state it does not have the knowledge to regard it as invalid\nexport default function Router(window){\n  if ( !(this instanceof Router) ) { return new Router(window); }\n  var router = this;\n  router.location = window.location;\n\n  function getState(){\n    var query = QString.parse(router.location.search);\n    return {\n      token: query.token,\n      channel: query.channel\n    };\n  }\n\n  Object.defineProperty(router, 'state', {\n    get: getState\n  });\n}\n","/* jshint esnext: true */\n\nimport Tracker from \"./tracker/tracker\";\nimport ConsoleView from \"./tracker/console-view\";\nimport Showcase from \"./tracker/showcase\";\nimport Reading from \"./lib/reading\";\n\nwindow.Tracker = Tracker;\nwindow.Tracker.Reading = Reading;\n\nvar tracker = new Tracker();\ntracker.logger = window.console;\ntracker.showcase = Showcase(window);\n\n// var consoleView = new ConsoleView(window.console);\n// // tracker.showcase.register(consoleView.render);\n//\n// import UplinkController from \"./tracker/uplink-controller\";\n//\n// import * as URI from \"./uri\";\n// var uri = URI.parseLocation(window.location);\n//\n// var uplinkController = new UplinkController({\n//   token: uri.query.token,\n//   channel: uri.query.channel\n// }, tracker);\n\nexport default tracker;\n\nimport Router from \"./router\";\n\nvar router = Router(window);\n\nconsole.log(router.state);\n\n\n// Dom views should be initialized with the ready on certain selectors library\n"],"names":["index","QString.parse","Showcase"],"mappings":"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"}