{"version":3,"file":"tracker.js","sources":["..//Users/mattheworiordan/Projects/Ably/demos/lob/client/config.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/carbide/key-error.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/carbide/struct.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/tracker/state.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/lib/Audio.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/tracker/tracker.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/lib/reading.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/router.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/tracker/showcase.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/tracker/uplink-controller.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/utils/dom.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/utils/polyfill.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/alert/display.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/lib/phone.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/tracker/graph-display.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/tracker.js"],"sourcesContent":["export var Config = {\n  readingPublishLimit: 200, // ms\n  flightPublishLimit: 1000, // ms\n  trackingGraphTimePeriod: 8000, // ms - time to keep points in visible graph\n  gravityMagnitudeConstant: 10 // default gravity magnitude value from accelerometer\n};\n","/* jshint esnext: true */\n\nexport function KeyError(key) {\n  this.name = \"KeyError\";\n  this.message = \"key \\\"\" + key + \"\\\" not found\";\n  this.stack = (new Error()).stack;\n}\nKeyError.prototype = Object.create(Error.prototype);\nKeyError.prototype.constructor = KeyError;\n\nexport default KeyError;\n","/* jshint esnext: true */\n\nimport KeyError from \"./key-error\";\n\nexport function Struct(defaults, source){\n  \"use strict\";\n  if ( !(this instanceof Struct) ) { return new Struct(defaults, source); }\n\n  Object.assign(this, defaults);\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (!this.hasOwnProperty(key)) {\n        throw new KeyError(key);\n      }\n      this[key] = source[key];\n    }\n  }\n  Object.freeze(this);\n}\n\nStruct.prototype.hasKey = function (key) {\n  return Object.keys(this).indexOf(key) !== -1;\n};\n\nStruct.prototype.fetch = function (key) {\n  if (this.hasKey(key)) {\n    return this[key];\n  } else {\n    throw new KeyError(key);\n  }\n};\n\nStruct.prototype.set = function (key, value) {\n  if (this[key] === value) {\n    return this;\n  }\n  var tmp = {};\n  tmp[key] = value;\n  return this.merge(tmp);\n};\n\nStruct.prototype.update = function (key, operation) {\n  return this.set(key, operation(this[key]));\n};\n\nStruct.prototype.merge = function (other) {\n  return Struct(this, other);\n};\n\nexport default Struct;\n","/* jshint esnext: true */\n\nimport Struct from \"../carbide/struct\";\n\nvar STATE_DEFAULTS = {\n  uplinkStatus: \"UNKNOWN\",\n  uplinkChannelName: \"UNKNOWN\",\n  flightSnapshot: null,\n  alert: \"\"\n};\n\nfunction State(raw){\n  if ( !(this instanceof State) ) { return new State(raw); }\n\n  return Struct.call(this, STATE_DEFAULTS, raw);\n}\n\nState.prototype = Object.create(Struct.prototype);\nState.prototype.constructor = State;\n\nexport default State;\n","export default function Audio() {\n  if ( !(this instanceof Audio) ) { return new Audio(); }\n\n  ion.sound({\n    sounds: [{ name: \"pop_cork\" }],\n    volume: 1,\n    path: \"/images/audio/\",\n    preload: true\n  });\n\n  this.playDropSound = function() {\n    ion.sound.play(\"pop_cork\");\n  }\n}\n","/* jshint esnext: true */\n\nimport { Config } from '../config';\n\nimport State from \"./state\";\nimport Audio from \"../lib/Audio\";\n\nfunction lastInArray(array){\n  return array[array.length - 1];\n}\n\nfunction lastNInArray(n, array){\n  return array.slice(Math.max(array.length - n, 0));\n}\n\nvar TRACKER_INVALID_STATE_MESSAGE = \"Tracker did not receive valid initial state\";\n\n/***\n  The tracker application has an internal state.\n  All observers know that the can watch a given projection of that state\n  project and present overloaded verbs.\n  options showcase or exhibit\n  function showcase(state){\n    // The tracker just cares that its state is shown somewhere\n    tracker.showcase.dispatch(state);\n***/\n\nfunction Tracker(state, world){\n  if ( !(this instanceof Tracker) ) { return new Tracker(state, world); }\n  try {\n    state = State(state || {});\n  } catch (e) {\n    // alert(e); DEBT throws in tests\n    throw new TypeError(TRACKER_INVALID_STATE_MESSAGE);\n    // return; // Will be needed if we move the error handling to logger\n  }\n  var tracker = this;\n  tracker.state = state;\n  // DEBT return to external assignment\n  world = world || {};\n  tracker.logger = world.logger // Or error causing of silent version;\n\n  tracker.audio = new Audio();\n\n  tracker.uplinkAvailable = function(channelName){\n    // Set state action can cause projection to exhibit new state\n    tracker.state = tracker.state.set(\"uplinkStatus\", \"AVAILABLE\");\n    tracker.state = tracker.state.set(\"uplinkChannelName\", channelName);\n    // call log change. test listeners that the state has changed.\n    tracker.logger.info(\"Uplink available on channel:\", channelName);\n    showcase(tracker.state);\n  };\n\n  tracker.uplinkPresent = function(channelName, publisherCount){\n    if (publisherCount === 0) {\n      this.uplinkAvailable(channelName);\n    } else {\n      if (tracker.state.uplinkStatus !== 'STREAMING') {\n        tracker.state = tracker.state.set(\"uplinkStatus\", \"STREAMING\");\n        tracker.state = tracker.state.set(\"uplinkChannelName\", channelName);\n        tracker.logger.info(\"Uplink streaming\", channelName);\n        showcase(tracker.state);\n      }\n    }\n  };\n\n  tracker.uplinkFailed = function(err ){\n    console.error(err);\n    var state = tracker.state.set(\"uplinkStatus\", \"FAILED\");\n    tracker.state = state.set(\"alert\", \"Could not connect to Ably realtime service. Please try again later\");\n    tracker.logger.error(\"Uplink failed to connect\", err);\n    showcase(tracker.state);\n  };\n\n  tracker.uplinkDisconnected = function(err) {\n    if (tracker.state.uplinkStatus === 'DISCONNECTED') { return; }\n    tracker.state = tracker.state.set(\"uplinkStatus\", \"DISCONNECTED\");\n    tracker.logger.warn(\"Uplink has been disconnected\", err);\n    showcase(tracker.state);\n  };\n\n  tracker.newReading = function(newReading){\n    tracker.showcase.addReading(newReading);\n  };\n\n  tracker.newFlight = function(flightData, live) {\n    this.showcase.addFlight(flightData, live);\n    if (live) { this.audio.playDropSound(); };\n  }\n\n  tracker.newOrientation = function(position){\n    tracker.showcase.orientatePhones(position);\n  };\n\n  tracker.closeAlert = function(){\n    tracker.state = tracker.state.set(\"alert\", \"\");\n    showcase(tracker.state);\n  };\n\n  function showcase(state) {\n    tracker.showcase.update(state);\n  }\n}\n\nexport default Tracker;\n","/* jshint esnext: true */\n\nfunction isRational() {\n  for (var i = 0; i < arguments.length; i++) {\n    var val = arguments[i];\n    if (typeof val !== \"number\"){\n      return false;\n    }\n    if (!isFinite(val)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction roundtoFour(number) {\n  return parseFloat(number.toFixed(4));\n}\n\nexport default function Reading(raw){\n  if ( !(this instanceof Reading) ) { return new Reading(raw); }\n\n  this.x = raw.x;\n  this.y = raw.y;\n  this.z = raw.z;\n  this.timestamp = raw.timestamp;\n\n  if (!isRational(this.x, this.y, this.z, this.timestamp)) {\n    throw new TypeError(\"Reading should have numerical values for x, y, z & timestamp\");\n  }\n}\n\nObject.defineProperty(Reading.prototype, \"magnitude\", {\n  get: function(){\n    return roundtoFour(Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z));\n  }\n});\n\nReading.prototype.asJson = function() {\n  return {\n    timestamp: this.timestamp,\n    magnitude: this.magnitude\n  }\n};\n","/* jshint esnext: true */\n\n// Router makes use of current location\n// Router should always return some value of state it does not have the knowledge to regard it as invalid\n// Router is currently untested\n// Router does not follow modifications to the application location.\n// Router is generic for tracker and flyer at the moment\n// location is a size cause and might make sense to be lazily applied\nexport default function Router(location) {\n  if ( !(this instanceof Router) ) { return new Router(location); }\n  var router = this;\n  router.location = location;\n\n  function getState(){\n    return {\n      channelName: $(\"head\").data('channel-name')\n    };\n  }\n\n  Object.defineProperty(router, 'state', {\n    get: getState\n  });\n}\n","/* jshint esnext: true */\n\nfunction isLive(projection){\n  return !projection.flightSnapshot;\n}\n\nexport default function TrackerShowcase(window){\n  if ( !(this instanceof TrackerShowcase) ) { return new TrackerShowcase(window); }\n  var showcase = this;\n  var views = [];\n  var phones = [];\n\n  this.update = function(projection){\n    // Values needed in display\n    // isLive\n    // readings\n    // isLockedToLiveReadings\n    // graph lines\n    // uplink statuses\n    // TODO should be projection not this\n    showcase.projection = this;\n    views.forEach(function(view){\n      view.render(projection);\n    });\n  };\n\n  this.addView = function(view){\n    if (showcase.projection) {\n      view.render(showcase.projection);\n    }\n    views.push(view);\n  };\n\n  this.addPhone = function(phone) {\n    phones.push(phone);\n  }\n\n  this.addReading = function(newReading){\n    views.forEach(function(view){\n      view.addReading(newReading);\n    });\n  }\n\n  this.addFlight = function(newFlightData, live) {\n    views.forEach(function(view){\n      view.addFlight(newFlightData, live);\n    });\n  }\n\n  this.orientatePhones = function(position) {\n    phones.forEach(function(phone){\n      if (phone.setOrientation) {\n        phone.setOrientation(position);\n      }\n    });\n  }\n}\n","// RESPONSIBILITY - Drive the tracker application in response to messages from the Ably uplink\nimport Reading from \"../lib/reading\";\n\n/* jshint esnext: true */\nexport default function UplinkController(options, tracker){\n  var realtime = new Ably.Realtime({ authUrl: '/token' });\n  var channelName = options.channelName;\n  var channel = realtime.channels.get(channelName);\n\n  /* Flights namespace is configured to persist messages */\n  var flightRecorderChannelName = \"flights:\" + channelName;\n  var flightRecorderChannel = realtime.channels.get(flightRecorderChannelName);\n\n  function uplinkPublisherPresenceUpdate() {\n    channel.presence.get(function(err, members) {\n      if (err) {\n        tracker.uplinkFailed(err);\n      } else {\n        console.log(\"Publishers on this channel:\", members.length);\n        tracker.uplinkPresent(channelName, members.length);\n      }\n    });\n  }\n\n  realtime.connection.on(\"connected\", function(err) {\n    // If we keep explicitly passing channel data to the controller we should pass it to the main app here\n    tracker.uplinkAvailable(channelName);\n    uplinkPublisherPresenceUpdate();\n  });\n\n  realtime.connection.on(\"failed\", function(err) {\n    tracker.uplinkFailed(err);\n  });\n\n  realtime.connection.on(\"disconnected\", function(err) {\n    tracker.uplinkDisconnected(err);\n  });\n\n  channel.subscribe(\"reading\", function(event){\n    tracker.newReading(Reading(event.data.reading));\n    tracker.newOrientation(event.data.orientation);\n  });\n\n  channel.presence.subscribe(uplinkPublisherPresenceUpdate);\n\n  flightRecorderChannel.subscribe(function(flightMessage) {\n    tracker.newFlight(flightMessage.data, true);\n  }, function(err) {\n    if (err) {\n      console.error(\"Could not attach to flight recorder channel\", flightRecorderChannelName, err);\n    } else {\n      console.info(\"Attached to flight recorder channel\", flightRecorderChannelName);\n      flightRecorderChannel.history({ limit: 20 }, function(err, historicalFlightPage) {\n        if (err) {\n          console.error(\"Could not retrieve history for \", flightRecorderChannelName, err);\n        } else {\n          var historicalFlights = historicalFlightPage.items;\n          for (var i = historicalFlights.length - 1; i >= 0; i--) {\n            tracker.newFlight(historicalFlights[i].data, false);\n          }\n        }\n      })\n    }\n  });\n}\n","/* jshint esnext: true */\n\nexport function ready(fn) {\n  if (document.readyState !== \"loading\"){\n    fn();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n}\n","if (!Object.assign) {\n  Object.defineProperty(Object, 'assign', {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function(target) {\n      'use strict';\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert first argument to object');\n      }\n\n      var to = Object(target);\n      for (var i = 1; i < arguments.length; i++) {\n        var nextSource = arguments[i];\n        if (nextSource === undefined || nextSource === null) {\n          continue;\n        }\n        nextSource = Object(nextSource);\n\n        var keysArray = Object.keys(nextSource);\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n          var nextKey = keysArray[nextIndex];\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n      return to;\n    }\n  });\n}\n","/* jshint esnext: true */\n\nexport default function Display() {\n  var $root = $('.notices'),\n      $message = $root.find('.message');\n\n  return Object.create({}, {\n    active: {\n      set: function(active){\n        var ACTIVE = \"active\";\n        if (active) {\n          $root.addClass(ACTIVE);\n        } else {\n          $root.removeClass(ACTIVE);\n        }\n      },\n      enumerable: true\n    },\n    message: {\n      set: function(message){\n        $message.html(message);\n      }\n    }\n  });\n}\n","export default function Phone() {\n  if ( !(this instanceof Phone) ) { return new Phone(); }\n  var $phone = document.documentElement.querySelector('#tridiv .scene');\n  var prefixes = [\"-webkit-\", \"-moz-\", \"-ms-\", \"\"];\n\n  this.setOrientation = function(position) {\n    var landscape = false;\n\n    if ((position.orientation == 90) || (position.orientation == -90)) {\n      landscape = true;\n    }\n\n    /* Don't rotate on Y axis so that phone rotates on X & Y axis in front of user */\n    var xRotation = (90 - position.beta) + 270,\n        yRotation = landscape ? 90 : 0,\n        zRotation = position.gamma;\n\n    var cssText = '';\n\n    for (var prefixIndex = 0; prefixIndex < prefixes.length; prefixIndex++) {\n      var prefix = prefixes[prefixIndex];\n      cssText += prefix + 'transform: rotateX(' + xRotation + 'deg) rotateY(' + yRotation + 'deg) rotateZ(' + zRotation + 'deg);';\n    }\n\n    $phone.style.cssText = cssText;\n  }\n}\n","import { Config } from '../config';\n\nexport default function GraphDisplay(trackDivId) {\n  if ( !(this instanceof GraphDisplay) ) { return new GraphDisplay(trackDivId); }\n\n  var chart,\n      context,\n      data = [],\n      lineDataTemplate = function() { return {\n        labels: [],\n        datasets: [\n          {\n            title: \"Magnitude\",\n            fillColor: \"rgba(151,187,205,0)\",\n            strokeColor: \"rgba(151,187,205,1)\",\n            pointColor : \"rgba(220,220,220,1)\",\n            pointstrokeColor : \"yellow\",\n            data: [],\n            xPos: [],\n            axis: 1\n          },\n          {\n            title: \"Throw\",\n            type: \"Line\",\n            fill: true,\n            fillColor: \"rgba(220,0,0,0.6)\",\n            strokeColor: \"rgba(220,0,0,1)\",\n            pointColor : \"rgba(220,220,220,1)\",\n            pointstrokeColor : \"yellow\",\n            data: [],\n            xPos: [],\n            axis: 2\n          }\n        ]\n      }; },\n      chartOptions = {\n        datasetFill: true,\n        animation: false,\n        pointDot : false,\n        datasetFill: false,\n        showToolTips: false,\n        scaleOverride: true,\n        scaleStartValue: -10,\n        scaleSteps: 8,\n        scaleStepWidth: 10,\n        scaleLabel: \"<%=value%>\",\n        responsive: true,\n        maintainAspectRatio: true,\n        yAxisLabel: \"LobForceâ„¢\",\n        showXLabels: 5,\n        scaleXGridLinesStep: 5,\n        fmtXLabel : \"fmttime ss\",\n        extrapolateMissingData: false,\n        inGraphDataShow: true,\n        inGraphDataTmpl: \"<%=((v1 == 'Throw') && (v3 > 0) ? 'Lob ' + Math.round(v3*100)/100 + 'm' : '')%>\",\n        inGraphDataAlign: \"left\",\n        inGraphDataVAlign: \"bottom\",\n        inGraphDataPaddingX: 20,\n        inGraphDataPaddingY: -15,\n        inGraphDataFontColor: \"rgba(220,0,0,1)\"\n      };\n\n  function initialize(lineData) {\n    var canvas = $('#tracker-graph canvas');\n    context = canvas[0].getContext(\"2d\");\n    chart = new Chart(context).Line(lineData, chartOptions);\n  }\n\n  function maxTimestampFromData() {\n    return Math.max.apply(null, data.map(function(elem) { return elem.date; }));\n  }\n\n  /*\n    Sort data, then delete old data, cut off point of Config.trackingGraphTimePeriod\n  */\n  function prepareAndTruncateData() {\n    var minDateOnGraph = maxTimestampFromData() - Config.trackingGraphTimePeriod,\n        lineData = lineDataTemplate();\n\n    data = data.filter(function(point) {\n      return point.date > minDateOnGraph;\n    }).sort(function(a,b) {\n      return a.date - b.date;\n    });\n\n    lineData.labels = data.map(function(point) {\n      return point.date;\n    });\n\n    var magnitudeData = data.filter(function(point) { return !isNaN(parseInt(point.value)) });\n    lineData.datasets[0].data = magnitudeData.map(function(point) {\n      return point.value;\n    });\n    lineData.datasets[0].xPos = magnitudeData.map(function(point) {\n      return point.date;\n    });\n\n    var flightData = data.filter(function(point) { return isNaN(parseInt(point.value)) });\n    lineData.datasets[1].data = flightData.map(function(point) {\n      return point.altitude;\n    });\n    lineData.datasets[1].xPos = flightData.map(function(point) {\n      return point.date;\n    });\n    if (!lineData.datasets[1].xPos.length) {\n      delete lineData.datasets[1].xPos;\n    }\n\n    if (!chart) {\n      initialize(lineData);\n    } else {\n      updateChart(context, lineData, chartOptions);\n    }\n  }\n\n  this.addPoint = function(point) {\n    var lobForce = Math.round((point.magnitude - Config.gravityMagnitudeConstant) * 100) / 100; /* LobForce is stationery at 0 */\n    data.push({\n      date: new Date(point.timestamp),\n      value: lobForce\n    });\n    prepareAndTruncateData();\n  }\n\n  this.addFlight = function(flightData) {\n    var start = flightData.peakInfo[0].timestampStart;\n    var end = flightData.peakInfo[flightData.peakInfo.length-1].timestampEnd;\n    var altitude = flightData.altitude;\n    var midpointDate = (start + end) / 2;\n\n    data.push({\n      date: new Date(start - 10),\n      altitude: undefined\n    });\n    data.push({\n      date: new Date(start),\n      altitude: 0\n    });\n    data.push({\n      date: new Date(midpointDate),\n      altitude: altitude\n    });\n    data.push({\n      date: new Date(end),\n      altitude: 0\n    });\n    data.push({\n      date: new Date(end + 10),\n      altitude: undefined\n    });\n\n    prepareAndTruncateData();\n  }\n}\n","/* jshint esnext: true */\n\n// IMPORTS\nimport \"./utils/polyfill\";\nimport Tracker from \"./tracker/tracker\";\nimport Router from \"./router\";\nimport UplinkController from \"./tracker/uplink-controller\";\nimport ConsoleView from \"./tracker/console-view\";\nimport Showcase from \"./tracker/showcase\";\nimport Reading from \"./lib/reading\";\nimport AlertDisplay from \"./alert/display\";\nimport Phone from \"./lib/phone\";\nimport GraphDisplay from \"./tracker/graph-display\";\nimport { ready } from \"./utils/dom\";\n\n// GENERAL CONFIGURATION\nwindow.Tracker = Tracker;\nwindow.Tracker.Reading = Reading;\n\n\nvar router = Router(window.location);\nconsole.log('Router:', 'Started with initial state:', router.state);\n\n\nvar tracker = new Tracker();\ntracker.logger = window.console;\ntracker.showcase = Showcase(window);\n\nvar uplinkController = new UplinkController(router.state, tracker);\n\nfunction uplinkStatusMessageFromProjection(projection) {\n  var message = projection.uplinkStatus;\n  if (message === 'AVAILABLE') {\n    return '<p>Connection made to live Lob <b>' + projection.uplinkChannelName + '</b>.</p>' +\n      '<p>Waiting for device to stream its position in real time.</p>' +\n      '<p>Are you sure the device is publishing with ID <b>' + projection.uplinkChannelName + '?</b>';\n  } else if (message === 'STREAMING') {\n    return 'Streaming live Lob <b>' + projection.uplinkChannelName + \"</b>\";\n  } else if (message === 'FAILED') {\n    return 'Could not connect to live Lob realtime service';\n  } else if (message === 'DISCONNECTED') {\n    return 'Hold on, we\\'re currently disconnected from the live Lob';\n  } else {\n    return 'Unknown';\n  }\n}\n\nready(function(){\n  var $uplinkStatusMessage = $('.uplink-status-message'),\n      $graphAndPhone = $('.graph-and-phone'),\n      $preloader = $('.connecting-loader'),\n      $flightHistory = $('.flight-history'),\n      $flightHistoryTable = $flightHistory.find('table');\n\n  var alertDisplay = AlertDisplay(),\n      phone = new Phone(),\n      graphDisplay;\n\n  var paused = false;\n\n  var mainView = {\n    render: function(projection) {\n      $uplinkStatusMessage.html(uplinkStatusMessageFromProjection(projection));\n\n      if (projection.uplinkStatus === 'STREAMING') {\n        $graphAndPhone.show();\n        $preloader.hide();\n        if (!graphDisplay) {\n          graphDisplay = new GraphDisplay('tracker-graph');\n        }\n      } else {\n        $graphAndPhone.hide();\n        $preloader.show();\n      }\n\n      var alertMessage = projection.alert;\n      if (alertMessage) {\n        alertDisplay.message = alertMessage;\n        alertDisplay.active = true;\n      } else {\n        alertDisplay.active = false;\n      }\n\n      $('.pause-button').on('click', function() {\n        paused = true;\n        $('.pause-button').hide();\n        $('.play-button').show();\n      });\n\n      $('.play-button').on('click', function() {\n        paused = false;\n        $('.play-button').hide();\n        $('.pause-button').show();\n      });\n    },\n\n    addReading: function(newReading) {\n      if (paused) { return; }\n\n      if (graphDisplay) {\n        graphDisplay.addPoint(newReading);\n      }\n    },\n\n    addFlight: function(newFlightData, live) {\n      if (paused) { return; }\n\n      if (graphDisplay) {\n        graphDisplay.addFlight(newFlightData);\n      }\n\n      var altitude = Math.round(newFlightData.altitude * 100)/100 + \"m\",\n          flightTime = Math.round(newFlightData.flightTime * 100)/100 + \"s\",\n          flightDate = new Date(newFlightData.timestamp),\n          flewAt = flightDate.toLocaleTimeString() + \" on \" + flightDate.toLocaleDateString();\n\n      var row = $(\"<tr><td>\" + altitude + \"</td><td>\" + flightTime + \"</td><td>\" + flewAt + \"</td></tr>\");\n      $flightHistoryTable.find('tr:first').after(row);\n      $flightHistory.show();\n    }\n  };\n\n  tracker.showcase.addView(mainView);\n  tracker.showcase.addPhone(phone);\n});\n\nexport default tracker;\n\n"],"names":["Showcase","AlertDisplay"],"mappings":";;EAAO,IAAI,MAAM,GAAG;IAClB,mBAAmB,EAAE,GAAG;IACxB,kBAAkB,EAAE,IAAI;IACxB,uBAAuB,EAAE,IAAI;IAC7B,wBAAwB,EAAE,EAAE;GAC7B;;ECLD;;EAEO,SAAS,QAAQ,CAAC,GAAG,EAAE;IAC5B,IAAI,CAAC,IAAI,GAAG,UAAU;IACtB,IAAI,CAAC,OAAO,GAAG,QAAQ,GAAG,GAAG,GAAG,cAAc;IAC9C,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC,KAAK;;EAElC,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC;EACnD,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,QAAQ;;ECJlC,SAAS,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC;IACtC,YAAY;IACZ,KAAK,CAAC,CAAC,IAAI,YAAY,MAAM,CAAC,GAAG,EAAE,OAAO,IAAI,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;;IAEvE,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC;IAC7B,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;MACtB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;QAC9B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;UAC7B,MAAM,IAAI,QAAQ,CAAC,GAAG,CAAC;;QAEzB,IAAI,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;;;IAG3B,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;;;EAGrB,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE;IACvC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;GAC7C;;EAED,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,GAAG,EAAE;IACtC,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;MACpB,OAAO,IAAI,CAAC,GAAG,CAAC;KACjB,MAAM;MACL,MAAM,IAAI,QAAQ,CAAC,GAAG,CAAC;;GAE1B;;EAED,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,GAAG,EAAE,KAAK,EAAE;IAC3C,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,KAAK,EAAE;MACvB,OAAO,IAAI;;IAEb,IAAI,GAAG,GAAG,EAAE;IACZ,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK;IAChB,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;GACvB;;EAED,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE,SAAS,EAAE;IAClD,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;GAC3C;;EAED,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;IACxC,OAAO,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC;GAC3B;;EC3CD,IAAI,cAAc,GAAG;IACnB,YAAY,EAAE,SAAS;IACvB,iBAAiB,EAAE,SAAS;IAC5B,cAAc,EAAE,IAAI;IACpB,KAAK,EAAE;GACR;;EAED,SAAS,KAAK,CAAC,GAAG,CAAC;IACjB,KAAK,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;;IAExD,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,EAAE,GAAG,CAAC;;;EAG/C,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC;EACjD,KAAK,CAAC,SAAS,CAAC,WAAW,GAAG,KAAK;;EClBpB,SAAS,KAAK,GAAG;IAC9B,KAAK,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,OAAO,IAAI,KAAK,EAAE,CAAC;;IAErD,GAAG,CAAC,KAAK,CAAC;MACR,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;MAC9B,MAAM,EAAE,CAAC;MACT,IAAI,EAAE,gBAAgB;MACtB,OAAO,EAAE;KACV,CAAC;;IAEF,IAAI,CAAC,aAAa,GAAG,WAAW;MAC9B,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;;;;ECI9B,IAAI,6BAA6B,GAAG,6CAA6C;;;;;;;;;;;;EAYjF,SAAS,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;IAC5B,KAAK,CAAC,CAAC,IAAI,YAAY,OAAO,CAAC,GAAG,EAAE,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACrE,IAAI;MACF,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;KAC3B,CAAC,OAAO,CAAC,EAAE;;MAEV,MAAM,IAAI,SAAS,CAAC,6BAA6B,CAAC;;;IAGpD,IAAI,OAAO,GAAG,IAAI;IAClB,OAAO,CAAC,KAAK,GAAG,KAAK;;IAErB,KAAK,GAAG,KAAK,IAAI,EAAE;IACnB,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM;;IAE7B,OAAO,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE;;IAE3B,OAAO,CAAC,eAAe,GAAG,SAAS,WAAW,CAAC;;MAE7C,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC;MAC9D,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,mBAAmB,EAAE,WAAW,CAAC;;MAEnE,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,EAAE,WAAW,CAAC;MAChE,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;KACxB;;IAED,OAAO,CAAC,aAAa,GAAG,SAAS,WAAW,EAAE,cAAc,CAAC;MAC3D,IAAI,cAAc,KAAK,CAAC,EAAE;QACxB,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC;OAClC,MAAM;QACL,IAAI,OAAO,CAAC,KAAK,CAAC,YAAY,KAAK,WAAW,EAAE;UAC9C,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC;UAC9D,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,mBAAmB,EAAE,WAAW,CAAC;UACnE,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,WAAW,CAAC;UACpD,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;;;KAG5B;;IAED,OAAO,CAAC,YAAY,GAAG,SAAS,GAAG,EAAE;MACnC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;MAClB,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC;MACvD,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,oEAAoE,CAAC;MACxG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,EAAE,GAAG,CAAC;MACrD,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;KACxB;;IAED,OAAO,CAAC,kBAAkB,GAAG,SAAS,GAAG,EAAE;MACzC,IAAI,OAAO,CAAC,KAAK,CAAC,YAAY,KAAK,cAAc,EAAE,EAAE,OAAO;MAC5D,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,cAAc,CAAC;MACjE,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,EAAE,GAAG,CAAC;MACxD,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;KACxB;;IAED,OAAO,CAAC,UAAU,GAAG,SAAS,UAAU,CAAC;MACvC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC;KACxC;;IAED,OAAO,CAAC,SAAS,GAAG,SAAS,UAAU,EAAE,IAAI,EAAE;MAC7C,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC;MACzC,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,EAAE;;;IAG3C,OAAO,CAAC,cAAc,GAAG,SAAS,QAAQ,CAAC;MACzC,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC;KAC3C;;IAED,OAAO,CAAC,UAAU,GAAG,UAAU;MAC7B,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC;MAC9C,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;KACxB;;IAED,SAAS,QAAQ,CAAC,KAAK,EAAE;MACvB,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC;;;;ECpGlC;;EAEA,SAAS,UAAU,GAAG;IACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MACzC,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC;MACtB,IAAI,OAAO,GAAG,KAAK,QAAQ,CAAC;QAC1B,OAAO,KAAK;;MAEd,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;QAClB,OAAO,KAAK;;;IAGhB,OAAO,IAAI;;;EAGb,SAAS,WAAW,CAAC,MAAM,EAAE;IAC3B,OAAO,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;;;EAGvB,SAAS,OAAO,CAAC,GAAG,CAAC;IAClC,KAAK,CAAC,CAAC,IAAI,YAAY,OAAO,CAAC,GAAG,EAAE,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;;IAE5D,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;IACd,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;IACd,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;IACd,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS;;IAE9B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE;MACvD,MAAM,IAAI,SAAS,CAAC,8DAA8D,CAAC;;;;EAIvF,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE;IACpD,GAAG,EAAE,UAAU;MACb,OAAO,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;;GAErF,CAAC;;EAEF,OAAO,CAAC,SAAS,CAAC,MAAM,GAAG,WAAW;IACpC,OAAO;MACL,SAAS,EAAE,IAAI,CAAC,SAAS;MACzB,SAAS,EAAE,IAAI,CAAC;;GAEnB;;EC3CD;;;;;;;;EAQe,SAAS,MAAM,CAAC,QAAQ,EAAE;IACvC,KAAK,CAAC,CAAC,IAAI,YAAY,MAAM,CAAC,GAAG,EAAE,OAAO,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC/D,IAAI,MAAM,GAAG,IAAI;IACjB,MAAM,CAAC,QAAQ,GAAG,QAAQ;;IAE1B,SAAS,QAAQ,EAAE;MACjB,OAAO;QACL,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,cAAc;OAC3C;;;IAGH,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE;MACrC,GAAG,EAAE;KACN,CAAC;;;ECfW,SAAS,eAAe,CAAC,MAAM,CAAC;IAC7C,KAAK,CAAC,CAAC,IAAI,YAAY,eAAe,CAAC,GAAG,EAAE,OAAO,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC;IAC/E,IAAI,QAAQ,GAAG,IAAI;IACnB,IAAI,KAAK,GAAG,EAAE;IACd,IAAI,MAAM,GAAG,EAAE;;IAEf,IAAI,CAAC,MAAM,GAAG,SAAS,UAAU,CAAC;;;;;;;;MAQhC,QAAQ,CAAC,UAAU,GAAG,IAAI;MAC1B,KAAK,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC;QAC1B,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;OACxB,CAAC;KACH;;IAED,IAAI,CAAC,OAAO,GAAG,SAAS,IAAI,CAAC;MAC3B,IAAI,QAAQ,CAAC,UAAU,EAAE;QACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;;MAElC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;KACjB;;IAED,IAAI,CAAC,QAAQ,GAAG,SAAS,KAAK,EAAE;MAC9B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;;;IAGpB,IAAI,CAAC,UAAU,GAAG,SAAS,UAAU,CAAC;MACpC,KAAK,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC;QAC1B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;OAC5B,CAAC;;;IAGJ,IAAI,CAAC,SAAS,GAAG,SAAS,aAAa,EAAE,IAAI,EAAE;MAC7C,KAAK,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC;QAC1B,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC;OACpC,CAAC;;;IAGJ,IAAI,CAAC,eAAe,GAAG,SAAS,QAAQ,EAAE;MACxC,MAAM,CAAC,OAAO,CAAC,SAAS,KAAK,CAAC;QAC5B,IAAI,KAAK,CAAC,cAAc,EAAE;UACxB,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC;;OAEjC,CAAC;;;;;EClDS,SAAS,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC;IACxD,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC;IACvD,IAAI,WAAW,GAAG,OAAO,CAAC,WAAW;IACrC,IAAI,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC;;;IAGhD,IAAI,yBAAyB,GAAG,UAAU,GAAG,WAAW;IACxD,IAAI,qBAAqB,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,yBAAyB,CAAC;;IAE5E,SAAS,6BAA6B,GAAG;MACvC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,GAAG,EAAE,OAAO,EAAE;QAC1C,IAAI,GAAG,EAAE;UACP,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;SAC1B,MAAM;UACL,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,OAAO,CAAC,MAAM,CAAC;UAC1D,OAAO,CAAC,aAAa,CAAC,WAAW,EAAE,OAAO,CAAC,MAAM,CAAC;;OAErD,CAAC;;;IAGJ,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,SAAS,GAAG,EAAE;;MAEhD,OAAO,CAAC,eAAe,CAAC,WAAW,CAAC;MACpC,6BAA6B,EAAE;KAChC,CAAC;;IAEF,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,EAAE,SAAS,GAAG,EAAE;MAC7C,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;KAC1B,CAAC;;IAEF,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,cAAc,EAAE,SAAS,GAAG,EAAE;MACnD,OAAO,CAAC,kBAAkB,CAAC,GAAG,CAAC;KAChC,CAAC;;IAEF,OAAO,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,KAAK,CAAC;MAC1C,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;MAC/C,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;KAC/C,CAAC;;IAEF,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,6BAA6B,CAAC;;IAEzD,qBAAqB,CAAC,SAAS,CAAC,SAAS,aAAa,EAAE;MACtD,OAAO,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC;KAC5C,EAAE,SAAS,GAAG,EAAE;MACf,IAAI,GAAG,EAAE;QACP,OAAO,CAAC,KAAK,CAAC,6CAA6C,EAAE,yBAAyB,EAAE,GAAG,CAAC;OAC7F,MAAM;QACL,OAAO,CAAC,IAAI,CAAC,qCAAqC,EAAE,yBAAyB,CAAC;QAC9E,qBAAqB,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,SAAS,GAAG,EAAE,oBAAoB,EAAE;UAC/E,IAAI,GAAG,EAAE;YACP,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,yBAAyB,EAAE,GAAG,CAAC;WACjF,MAAM;YACL,IAAI,iBAAiB,GAAG,oBAAoB,CAAC,KAAK;YAClD,KAAK,IAAI,CAAC,GAAG,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;cACtD,OAAO,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC;;;SAGxD;;KAEJ,CAAC;;;EC/DJ;;EAEO,SAAS,KAAK,CAAC,EAAE,EAAE;IACxB,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,CAAC;MACpC,EAAE,EAAE;KACL,MAAM;MACL,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,EAAE,CAAC;;;;ECNrD,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;IAClB,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE;MACtC,UAAU,EAAE,KAAK;MACjB,YAAY,EAAE,IAAI;MAClB,QAAQ,EAAE,IAAI;MACd,KAAK,EAAE,SAAS,MAAM,EAAE;QACtB,YAAY;QACZ,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,KAAK,IAAI,EAAE;UAC3C,MAAM,IAAI,SAAS,CAAC,yCAAyC,CAAC;;;QAGhE,IAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC;QACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;UACzC,IAAI,UAAU,GAAG,SAAS,CAAC,CAAC,CAAC;UAC7B,IAAI,UAAU,KAAK,SAAS,IAAI,UAAU,KAAK,IAAI,EAAE;YACnD;;UAEF,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;;UAE/B,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;UACvC,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,SAAS,GAAG,GAAG,EAAE,SAAS,EAAE,EAAE;YAC5E,IAAI,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC;YAClC,IAAI,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,UAAU,EAAE,OAAO,CAAC;YAC/D,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE;cACzC,EAAE,CAAC,OAAO,CAAC,GAAG,UAAU,CAAC,OAAO,CAAC;;;;QAIvC,OAAO,EAAE;;KAEZ,CAAC;;;EC9BJ;;EAEe,SAAS,OAAO,GAAG;IAChC,IAAI,KAAK,GAAG,CAAC,CAAC,UAAU,CAAC;QACrB,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;;IAErC,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE;MACvB,MAAM,EAAE;QACN,GAAG,EAAE,SAAS,MAAM,CAAC;UACnB,IAAI,MAAM,GAAG,QAAQ;UACrB,IAAI,MAAM,EAAE;YACV,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC;WACvB,MAAM;YACL,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC;;SAE5B;QACD,UAAU,EAAE;OACb;MACD,OAAO,EAAE;QACP,GAAG,EAAE,SAAS,OAAO,CAAC;UACpB,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;;;KAG3B,CAAC;;;ECvBW,SAAS,KAAK,GAAG;IAC9B,KAAK,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,OAAO,IAAI,KAAK,EAAE,CAAC;IACrD,IAAI,MAAM,GAAG,QAAQ,CAAC,eAAe,CAAC,aAAa,CAAC,gBAAgB,CAAC;IACrE,IAAI,QAAQ,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC;;IAEhD,IAAI,CAAC,cAAc,GAAG,SAAS,QAAQ,EAAE;MACvC,IAAI,SAAS,GAAG,KAAK;;MAErB,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,CAAC,EAAE,CAAC,EAAE;QACjE,SAAS,GAAG,IAAI;;;;MAIlB,IAAI,SAAS,GAAG,CAAC,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,GAAG;UACtC,SAAS,GAAG,SAAS,GAAG,EAAE,GAAG,CAAC;UAC9B,SAAS,GAAG,QAAQ,CAAC,KAAK;;MAE9B,IAAI,OAAO,GAAG,EAAE;;MAEhB,KAAK,IAAI,WAAW,GAAG,CAAC,EAAE,WAAW,GAAG,QAAQ,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE;QACtE,IAAI,MAAM,GAAG,QAAQ,CAAC,WAAW,CAAC;QAClC,OAAO,IAAI,MAAM,GAAG,qBAAqB,GAAG,SAAS,GAAG,eAAe,GAAG,SAAS,GAAG,eAAe,GAAG,SAAS,GAAG,OAAO;;;MAG7H,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO;;;;ECtBnB,SAAS,YAAY,CAAC,UAAU,EAAE;IAC/C,KAAK,CAAC,CAAC,IAAI,YAAY,YAAY,CAAC,GAAG,EAAE,OAAO,IAAI,YAAY,CAAC,UAAU,CAAC,CAAC;;IAE7E,IAAI,KAAK;QACL,OAAO;QACP,IAAI,GAAG,EAAE;QACT,gBAAgB,GAAG,WAAW,EAAE,OAAO;UACrC,MAAM,EAAE,EAAE;UACV,QAAQ,EAAE;YACR;cACE,KAAK,EAAE,WAAW;cAClB,SAAS,EAAE,qBAAqB;cAChC,WAAW,EAAE,qBAAqB;cAClC,UAAU,GAAG,qBAAqB;cAClC,gBAAgB,GAAG,QAAQ;cAC3B,IAAI,EAAE,EAAE;cACR,IAAI,EAAE,EAAE;cACR,IAAI,EAAE;aACP;YACD;cACE,KAAK,EAAE,OAAO;cACd,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,IAAI;cACV,SAAS,EAAE,mBAAmB;cAC9B,WAAW,EAAE,iBAAiB;cAC9B,UAAU,GAAG,qBAAqB;cAClC,gBAAgB,GAAG,QAAQ;cAC3B,IAAI,EAAE,EAAE;cACR,IAAI,EAAE,EAAE;cACR,IAAI,EAAE;;;SAGX,CAAC,EAAE;QACJ,YAAY,GAAG;UACb,WAAW,EAAE,IAAI;UACjB,SAAS,EAAE,KAAK;UAChB,QAAQ,GAAG,KAAK;UAChB,WAAW,EAAE,KAAK;UAClB,YAAY,EAAE,KAAK;UACnB,aAAa,EAAE,IAAI;UACnB,eAAe,EAAE,CAAC,EAAE;UACpB,UAAU,EAAE,CAAC;UACb,cAAc,EAAE,EAAE;UAClB,UAAU,EAAE,YAAY;UACxB,UAAU,EAAE,IAAI;UAChB,mBAAmB,EAAE,IAAI;UACzB,UAAU,EAAE,WAAW;UACvB,WAAW,EAAE,CAAC;UACd,mBAAmB,EAAE,CAAC;UACtB,SAAS,GAAG,YAAY;UACxB,sBAAsB,EAAE,KAAK;UAC7B,eAAe,EAAE,IAAI;UACrB,eAAe,EAAE,iFAAiF;UAClG,gBAAgB,EAAE,MAAM;UACxB,iBAAiB,EAAE,QAAQ;UAC3B,mBAAmB,EAAE,EAAE;UACvB,mBAAmB,EAAE,CAAC,EAAE;UACxB,oBAAoB,EAAE;SACvB;;IAEL,SAAS,UAAU,CAAC,QAAQ,EAAE;MAC5B,IAAI,MAAM,GAAG,CAAC,CAAC,uBAAuB,CAAC;MACvC,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC;MACpC,KAAK,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC;;;IAGzD,SAAS,oBAAoB,GAAG;MAC9B,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;;;;;;IAM7E,SAAS,sBAAsB,GAAG;MAChC,IAAI,cAAc,GAAG,oBAAoB,EAAE,GAAG,MAAM,CAAC,uBAAuB;UACxE,QAAQ,GAAG,gBAAgB,EAAE;;MAEjC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,EAAE;QACjC,OAAO,KAAK,CAAC,IAAI,GAAG,cAAc;OACnC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;QACpB,OAAO,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI;OACvB,CAAC;;MAEF,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;QACzC,OAAO,KAAK,CAAC,IAAI;OAClB,CAAC;;MAEF,IAAI,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;MACzF,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;QAC5D,OAAO,KAAK,CAAC,KAAK;OACnB,CAAC;MACF,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;QAC5D,OAAO,KAAK,CAAC,IAAI;OAClB,CAAC;;MAEF,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;MACrF,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,UAAU,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;QACzD,OAAO,KAAK,CAAC,QAAQ;OACtB,CAAC;MACF,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,UAAU,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;QACzD,OAAO,KAAK,CAAC,IAAI;OAClB,CAAC;MACF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE;QACrC,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI;;;MAGlC,IAAI,CAAC,KAAK,EAAE;QACV,UAAU,CAAC,QAAQ,CAAC;OACrB,MAAM;QACL,WAAW,CAAC,OAAO,EAAE,QAAQ,EAAE,YAAY,CAAC;;;;IAIhD,IAAI,CAAC,QAAQ,GAAG,SAAS,KAAK,EAAE;MAC9B,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC,wBAAwB,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;MAC3F,IAAI,CAAC,IAAI,CAAC;QACR,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QAC/B,KAAK,EAAE;OACR,CAAC;MACF,sBAAsB,EAAE;;;IAG1B,IAAI,CAAC,SAAS,GAAG,SAAS,UAAU,EAAE;MACpC,IAAI,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc;MACjD,IAAI,GAAG,GAAG,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY;MACxE,IAAI,QAAQ,GAAG,UAAU,CAAC,QAAQ;MAClC,IAAI,YAAY,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;;MAEpC,IAAI,CAAC,IAAI,CAAC;QACR,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAC1B,QAAQ,EAAE;OACX,CAAC;MACF,IAAI,CAAC,IAAI,CAAC;QACR,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC;QACrB,QAAQ,EAAE;OACX,CAAC;MACF,IAAI,CAAC,IAAI,CAAC;QACR,IAAI,EAAE,IAAI,IAAI,CAAC,YAAY,CAAC;QAC5B,QAAQ,EAAE;OACX,CAAC;MACF,IAAI,CAAC,IAAI,CAAC;QACR,IAAI,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC;QACnB,QAAQ,EAAE;OACX,CAAC;MACF,IAAI,CAAC,IAAI,CAAC;QACR,IAAI,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QACxB,QAAQ,EAAE;OACX,CAAC;;MAEF,sBAAsB,EAAE;;;;;ECvI5B,MAAM,CAAC,OAAO,GAAG,OAAO;EACxB,MAAM,CAAC,OAAO,CAAC,OAAO,GAAG,OAAO;;;EAGhC,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;EACpC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,6BAA6B,EAAE,MAAM,CAAC,KAAK,CAAC;;;EAGnE,IAAI,OAAO,GAAG,IAAI,OAAO,EAAE;EAC3B,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO;EAC/B,OAAO,CAAC,QAAQ,GAAG,eAAQ,CAAC,MAAM,CAAC;;EAEnC,IAAI,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC;;EAElE,SAAS,iCAAiC,CAAC,UAAU,EAAE;IACrD,IAAI,OAAO,GAAG,UAAU,CAAC,YAAY;IACrC,IAAI,OAAO,KAAK,WAAW,EAAE;MAC3B,OAAO,oCAAoC,GAAG,UAAU,CAAC,iBAAiB,GAAG,WAAW;QACtF,gEAAgE;QAChE,sDAAsD,GAAG,UAAU,CAAC,iBAAiB,GAAG,OAAO;KAClG,MAAM,IAAI,OAAO,KAAK,WAAW,EAAE;MAClC,OAAO,wBAAwB,GAAG,UAAU,CAAC,iBAAiB,GAAG,MAAM;KACxE,MAAM,IAAI,OAAO,KAAK,QAAQ,EAAE;MAC/B,OAAO,gDAAgD;KACxD,MAAM,IAAI,OAAO,KAAK,cAAc,EAAE;MACrC,OAAO,0DAA0D;KAClE,MAAM;MACL,OAAO,SAAS;;;;EAIpB,KAAK,CAAC,UAAU;IACd,IAAI,oBAAoB,GAAG,CAAC,CAAC,wBAAwB,CAAC;QAClD,cAAc,GAAG,CAAC,CAAC,kBAAkB,CAAC;QACtC,UAAU,GAAG,CAAC,CAAC,oBAAoB,CAAC;QACpC,cAAc,GAAG,CAAC,CAAC,iBAAiB,CAAC;QACrC,mBAAmB,GAAG,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC;;IAEtD,IAAI,YAAY,GAAG,OAAY,EAAE;QAC7B,KAAK,GAAG,IAAI,KAAK,EAAE;QACnB,YAAY;;IAEhB,IAAI,MAAM,GAAG,KAAK;;IAElB,IAAI,QAAQ,GAAG;MACb,MAAM,EAAE,SAAS,UAAU,EAAE;QAC3B,oBAAoB,CAAC,IAAI,CAAC,iCAAiC,CAAC,UAAU,CAAC,CAAC;;QAExE,IAAI,UAAU,CAAC,YAAY,KAAK,WAAW,EAAE;UAC3C,cAAc,CAAC,IAAI,EAAE;UACrB,UAAU,CAAC,IAAI,EAAE;UACjB,IAAI,CAAC,YAAY,EAAE;YACjB,YAAY,GAAG,IAAI,YAAY,CAAC,eAAe,CAAC;;SAEnD,MAAM;UACL,cAAc,CAAC,IAAI,EAAE;UACrB,UAAU,CAAC,IAAI,EAAE;;;QAGnB,IAAI,YAAY,GAAG,UAAU,CAAC,KAAK;QACnC,IAAI,YAAY,EAAE;UAChB,YAAY,CAAC,OAAO,GAAG,YAAY;UACnC,YAAY,CAAC,MAAM,GAAG,IAAI;SAC3B,MAAM;UACL,YAAY,CAAC,MAAM,GAAG,KAAK;;;QAG7B,CAAC,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW;UACxC,MAAM,GAAG,IAAI;UACb,CAAC,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE;UACzB,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE;SACzB,CAAC;;QAEF,CAAC,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW;UACvC,MAAM,GAAG,KAAK;UACd,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE;UACxB,CAAC,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE;SAC1B,CAAC;OACH;;MAED,UAAU,EAAE,SAAS,UAAU,EAAE;QAC/B,IAAI,MAAM,EAAE,EAAE,OAAO;;QAErB,IAAI,YAAY,EAAE;UAChB,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC;;OAEpC;;MAED,SAAS,EAAE,SAAS,aAAa,EAAE,IAAI,EAAE;QACvC,IAAI,MAAM,EAAE,EAAE,OAAO;;QAErB,IAAI,YAAY,EAAE;UAChB,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC;;;QAGvC,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG;YAC7D,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG;YACjE,UAAU,GAAG,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;YAC9C,MAAM,GAAG,UAAU,CAAC,kBAAkB,EAAE,GAAG,MAAM,GAAG,UAAU,CAAC,kBAAkB,EAAE;;QAEvF,IAAI,GAAG,GAAG,CAAC,CAAC,UAAU,GAAG,QAAQ,GAAG,WAAW,GAAG,UAAU,GAAG,WAAW,GAAG,MAAM,GAAG,YAAY,CAAC;QACnG,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;QAC/C,cAAc,CAAC,IAAI,EAAE;;KAExB;;IAED,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC;IAClC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC;GACjC,CAAC;;;;"}