{"version":3,"file":"tracker.js","sources":["..//home/peter/Workshop14/lob/client/carbide/key-error.js","..//home/peter/Workshop14/lob/client/carbide/struct.js","..//home/peter/Workshop14/lob/client/tracker/state.js","..//home/peter/Workshop14/lob/client/tracker/tracker.js","..//home/peter/Workshop14/lob/client/lib/reading.js","..//home/peter/Workshop14/lob/client/router.js","..//home/peter/Workshop14/lob/client/tracker/showcase.js","..//home/peter/Workshop14/lob/client/tracker/uplink-controller.js","..//home/peter/Workshop14/lob/client/utils/dom.js","..//home/peter/Workshop14/lob/client/utils/polyfill.js","..//home/peter/Workshop14/lob/client/alert/display.js","..//home/peter/Workshop14/lob/client/tracker.js"],"sourcesContent":["/* jshint esnext: true */\n\nexport function KeyError(key) {\n  this.name = \"KeyError\";\n  this.message = \"key \\\"\" + key + \"\\\" not found\";\n  this.stack = (new Error()).stack;\n}\nKeyError.prototype = Object.create(Error.prototype);\nKeyError.prototype.constructor = KeyError;\n\nexport default KeyError;\n","/* jshint esnext: true */\n\nimport KeyError from \"./key-error\";\n\nexport function Struct(defaults, source){\n  \"use strict\";\n  if ( !(this instanceof Struct) ) { return new Struct(defaults, source); }\n\n  Object.assign(this, defaults);\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (!this.hasOwnProperty(key)) {\n        throw new KeyError(key);\n      }\n      this[key] = source[key];\n    }\n  }\n  Object.freeze(this);\n}\n\nStruct.prototype.hasKey = function (key) {\n  return Object.keys(this).indexOf(key) !== -1;\n};\n\nStruct.prototype.fetch = function (key) {\n  if (this.hasKey(key)) {\n    return this[key];\n  } else {\n    throw new KeyError(key);\n  }\n};\n\nStruct.prototype.set = function (key, value) {\n  if (this[key] === value) {\n    return this;\n  }\n  var tmp = {};\n  tmp[key] = value;\n  return this.merge(tmp);\n};\n\nStruct.prototype.update = function (key, operation) {\n  return this.set(key, operation(this[key]));\n};\n\nStruct.prototype.merge = function (other) {\n  return Struct(this, other);\n};\n\nexport default Struct;\n","/* jshint esnext: true */\n\nimport Struct from \"../carbide/struct\";\n\nvar STATE_DEFAULTS = {\n  uplinkStatus: \"UNKNOWN\",\n  uplinkChannelName: \"UNKNOWN\",\n  flightOutputStatus: \"FOLLOWING_FLIGHT\", // FOLLOWING_LIVE | HOLDING_SNAPSHOT\n  liveFlight: [],\n  flightSnapshot: null,\n  alert: \"\"\n};\n\nfunction State(raw){\n  if ( !(this instanceof State) ) { return new State(raw); }\n\n  return Struct.call(this, STATE_DEFAULTS, raw);\n}\n\nState.prototype = Object.create(Struct.prototype);\nState.prototype.constructor = State;\n\nexport default State;\n","/* jshint esnext: true */\n\nimport State from \"./state\";\n\nfunction isInFlight(reading){\n  // DEBT magic number\n  return reading.magnitude < 4;\n}\n\nfunction lastInArray(array){\n  return array[array.length - 1];\n}\n\nfunction lastNInArray(n, array){\n  return array.slice(Math.max(array.length - n, 0));\n}\n\nvar TRACKER_INVALID_STATE_MESSAGE = \"Tracker did not recieve valid initial state\";\n\nfunction Tracker(state, world){\n  if ( !(this instanceof Tracker) ) { return new Tracker(state, world); }\n  try {\n    state = State(state || {});\n  } catch (e) {\n    // alert(e); DEBT throws in tests\n    throw new TypeError(TRACKER_INVALID_STATE_MESSAGE);\n    // return; // Will be needed if we move the error handling to logger\n  }\n  var tracker = this;\n  tracker.state = state;\n  // DEBT return to external assignment\n  world = world || {};\n  tracker.logger = world.logger // Or error causing of silent version;\n\n  tracker.uplinkAvailable = function(channelName){\n    // Set state action can cause projection to exhibit new state\n    tracker.state = tracker.state.set(\"uplinkStatus\", \"AVAILABLE\");\n    tracker.state = tracker.state.set(\"uplinkChannelName\", channelName);\n    // call log change. test listeners that the state has changed.\n    logInfo(\"Uplink available on channel:\", channelName);\n    showcase(tracker.state);\n  };\n\n  tracker.uplinkFailed = function(err){\n    console.log(err);\n    // Set state action can cause projection to exhibit new state\n    var state = tracker.state.set(\"uplinkStatus\", \"FAILED\");\n    tracker.state = state.set(\"alert\", \"Could not connect to Ably realtime service. Please try again later\");\n    // tracker.state = tracker.state.set(\"uplinkChannelName\", channelName);\n    // // call log change. test listeners that the state has changed.\n    logInfo(\"Uplink failed to connect\", err);\n    showcase(tracker.state);\n  };\n\n  tracker.newReading = function(newReading){\n    // DEBT return null reading if array empty\n    // DEBT throw error if new reading is missing a magnitude property\n    var lastReading = lastInArray(tracker.state.liveFlight)\n    var wasInFlight = lastReading && isInFlight(lastReading);\n    var isNowGrounded = !isInFlight(newReading);\n    if (wasInFlight && isNowGrounded) {\n      setTimeout(function () {\n        tracker.holdSnapshot();\n        // pause the newReading\n      }, 1000);\n    }\n\n    var state = tracker.state.update(\"liveFlight\", function(readings){\n      readings = readings.concat(newReading);\n      // DEBT make configurable\n      return lastNInArray(40, readings);\n    });\n    // simplest is to just start timer\n    // here to add timer controller\n    tracker.state = state; // Assign at end to work as transaction\n    // showcase(state);\n    if (tracker.state.flightOutputStatus !== 'HOLDING_SNAPSHOT') {\n      tracker.showcase.addReading(newReading);\n    }\n    // logEvent(\"New newReading\");\n  };\n\n  tracker.holdSnapshot = function(){\n    // Take and hold a snapshot only if the tracker is tracking flights\n    if (tracker.state.flightOutputStatus !== 'FOLLOWING_FLIGHT') {\n      return;\n    }\n    // Only if current flight has content\n    var state = tracker.state.set('flightSnapshot', tracker.state.liveFlight);\n    state = state.set('flightOutputStatus', 'HOLDING_SNAPSHOT');\n\n    tracker.state = state; // Assign at end to work as transaction\n    showcase(state);\n    logEvent(\"Taken snapshot\");\n  };\n\n  tracker.followFlight = function(){\n    if (tracker.state.flightOutputStatus === 'HOLDING_SNAPSHOT') {\n      tracker.showcase.setReadings(tracker.state.liveFlight);\n    }\n    var state = tracker.state.set('flightOutputStatus', 'FOLLOWING_FLIGHT');\n    state.set('flightSnapshot', null); // probably unnecessary as we can use the flight output status\n    tracker.state = state;\n    showcase(state);\n    logEvent(\"following flight\");\n  };\n  // This state is for when we are following a live feed but do not want pause at flight end\n  tracker.followLive = function(){\n    var state = tracker.state.set('flightOutputStatus', 'FOLLOWING_LIVE');\n    tracker.state = state;\n    showcase(state);\n    logEvent(\"following live readings\");\n  };\n  tracker.resetReadings = function(){\n  };\n\n  tracker.closeAlert = function(){\n    // DEBT untested\n    tracker.state = tracker.state.set(\"alert\", \"\");\n    showcase(tracker.state);\n    logEvent(\"Alert closed\");\n  };\n\n  function logEvent() {\n    tracker.logger.debug.apply(tracker.logger, arguments);\n  }\n  function logInfo() {\n    tracker.logger.info.apply(tracker.logger, arguments);\n  }\n  function showcase(state) {\n    tracker.showcase.update(state);\n  }\n\n  function projectState(state){\n    return state;\n  }\n\n  // The tracker application has an internal state.\n  // All observers know that the can watch a given projection of that state\n  // project and present overloaded verbs.\n  // options showcase or exhibit\n  // function showcase(state){\n  //   // The tracker just cares that its state is shown somewhere\n  //   tracker.showcase.dispatch(state);\n  // }\n\n\n\n}\n\nexport default Tracker;\n","/* jshint esnext: true */\nfunction isRational(x, other) {\n  if (typeof x !== \"number\"){\n    return false;\n  }\n  if (!isFinite(x)){\n    return false;\n  }\n  var rest = Array.prototype.slice.call(arguments, 1);\n  if (rest.length > 0) {\n    return isRational.apply(this, rest);\n  }\n  return true;\n}\n\nfunction roundtoFour(number) {\n  return parseFloat(number.toFixed(4));\n}\n\nexport default function Reading(raw){\n  if ( !(this instanceof Reading) ) { return new Reading(raw); }\n\n  this.x = raw.x;\n  this.y = raw.y;\n  this.z = raw.z;\n  this.timestamp = raw.timestamp;\n\n  if (!isRational(this.x, this.y, this.z, this.timestamp)) {\n    throw new TypeError(\"Reading should have numerical values for x, y, z & timestamp\");\n  }\n}\n\nObject.defineProperty(Reading.prototype, \"magnitude\", {\n  get: function(){\n    return roundtoFour(Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z));\n  }\n});\n","/* jshint esnext: true */\n\n// Router makes use of current location\n// Router should always return some value of state it does not have the knowledge to regard it as invalid\n// Router is currently untested\n// Router does not follow modifications to the application location.\n// Router is generic for tracker and flyer at the moment\n// location is a size cause and might make sense to be lazily applied\nexport default function Router(location){\n  if ( !(this instanceof Router) ) { return new Router(location); }\n  var router = this;\n  router.location = location;\n\n  function getState(){\n    return {\n      token: getQueryParameter('token', router.location.search),\n      channelName: getQueryParameter('channel-name', router.location.search)\n    };\n  }\n\n  Object.defineProperty(router, 'state', {\n    get: getState\n  });\n}\n\nexport function getQueryParameter(name, queryString) {\n  name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n  var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n  results = regex.exec(queryString);\n  return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n","/* jshint esnext: true */\n\nfunction isLive(projection){\n  return !projection.flightSnapshot;\n}\n\nexport default function TrackerShowcase(window){\n  if ( !(this instanceof TrackerShowcase) ) { return new TrackerShowcase(window); }\n  var showcase = this;\n  var views = [];\n\n\n  this.update = function(projection){\n    // Values needed in display\n    // isLive\n    // readings\n    // isLockedToLiveReadings\n    // graph lines\n    // uplink statuses\n    // TODO should be projection not this\n    showcase.projection = this;\n    views.forEach(function(view){\n      view.render(projection);\n    });\n  };\n\n  this.addView = function(view){\n    if (showcase.projection) {\n      view.render(showcase.projection);\n    }\n    views.push(view);\n  };\n\n  // DEBT\n  this.addReading = function(newReading){\n    views.forEach(function(view){\n      if (view.addReading) {\n        view.addReading(newReading);\n      }\n    });\n  }\n\n  this.setReadings = function(readings){\n    views.forEach(function(view){\n      if (view.setReadings) {\n        view.setReadings(readings);\n      }\n    });\n  }\n}\n","// Could also be called UplinkDriver - might be more suitable\n// RESPONSIBILITY - Drive the tracker application in response to messages from the Ably uplink\nimport Reading from \"../lib/reading\";\n/* jshint esnext: true */\nexport default function UplinkController(options, tracker){\n  var channelName = options.channelName;\n  var token = options.token;\n  var realtime = new Ably.Realtime({ token: token });\n  realtime.connection.on(\"connected\", function(err) {\n    // If we keep explicitly passing channel data to the controller we should pass it to the main app here\n    tracker.uplinkAvailable(channelName);\n  });\n  realtime.connection.on(\"failed\", function(err) {\n    tracker.uplinkFailed(err);\n  });\n  var channel = realtime.channels.get(channelName);\n  channel.subscribe(\"newReading\", function(event){\n    // new Vector(event.data);\n    tracker.newReading(Reading(event.data));\n  });\n  channel.subscribe(\"resetReadings\", function(_event){\n    tracker.resetReadings();\n  });\n}\n\n// uplink controller does very little work so it is not separated from uplink\n\n// function Uplink(options, logger){\n//   var channelName = options.channel;\n//   var token = options.token;\n//   var realtime = new Ably.Realtime({ token: token });\n//   var channel = realtime.channels.get(channelName);\n//   realtime.connection.on(\"connected\", function(err) {\n//     console.log(\"realtime connected\");\n//   });\n//   realtime.connection.on(\"failed\", function(err) {\n//     console.log(\"realtime connection failed\");\n//   });\n// }\n","/* jshint esnext: true */\n\nexport function ready(fn) {\n  if (document.readyState !== \"loading\"){\n    fn();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n}\n","if (!Object.assign) {\n  Object.defineProperty(Object, 'assign', {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function(target) {\n      'use strict';\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert first argument to object');\n      }\n\n      var to = Object(target);\n      for (var i = 1; i < arguments.length; i++) {\n        var nextSource = arguments[i];\n        if (nextSource === undefined || nextSource === null) {\n          continue;\n        }\n        nextSource = Object(nextSource);\n\n        var keysArray = Object.keys(nextSource);\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n          var nextKey = keysArray[nextIndex];\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n      return to;\n    }\n  });\n}\n","/* jshint esnext: true */\n\nexport default function Display($root){\n  var $message = $root.querySelector(\"[data-display~=message]\");\n  return Object.create({}, {\n    active: {\n      set: function(active){\n        var ACTIVE = \"active\";\n        if (active) {\n          $root.classList.add(ACTIVE);\n        } else {\n          $root.classList.remove(ACTIVE);\n        }\n      },\n      enumerable: true\n    },\n    message: {\n      set: function(message){\n        console.log(message);\n        $message.innerHTML = message;\n      }\n    }\n  });\n}\n","/* jshint esnext: true */\n\n// IMPORTS\nimport \"./utils/polyfill\";\nimport Tracker from \"./tracker/tracker\";\nimport Router from \"./router\";\nimport UplinkController from \"./tracker/uplink-controller\";\nimport ConsoleView from \"./tracker/console-view\";\nimport Showcase from \"./tracker/showcase\";\nimport Reading from \"./lib/reading\";\nimport AlertDisplay from \"./alert/display\";\n\n// GENERAL CONFIGURATION\nwindow.Tracker = Tracker;\nwindow.Tracker.Reading = Reading;\n\nvar router = Router(window.location);\nconsole.log('Router:', 'Started with initial state:', router.state);\n\n\nvar tracker = new Tracker();\ntracker.logger = window.console;\ntracker.showcase = Showcase(window);\n\nvar uplinkController = new UplinkController(router.state, tracker);\n\nexport default tracker;\n\nimport { ready } from \"./utils/dom\";\n\nfunction uplinkStatusMessageFromProjection(projection) {\n  var message = projection.uplinkStatus;\n  if (message === 'AVAILABLE') {\n    return 'Connection made to channel \"' + projection.uplinkChannelName +'\"';\n  } else if (message === 'FAILED') {\n    return 'Could not connect to Ably service';\n  } else {\n    return 'Unknown';\n  }\n}\n\nfunction GraphDisplay($root){\n  if ( !(this instanceof GraphDisplay) ) { return new GraphDisplay($root); }\n  var canvas = $root.querySelector('canvas');\n  var canvasContext = canvas.getContext(\"2d\");\n  console.log(canvas)\n  // DEBT data can come from $root dataset\n  var data = {\n    labels: [],\n    datasets: [{\n      label: \"X\",\n      fillColor: \"rgba(220,220,220,0)\",\n      strokeColor: \"limegreen\",\n      pointColor: \"limegreen\",\n      data: []\n    }, {\n      label: \"Y\",\n      fillColor: \"rgba(220,220,220,0)\",\n      strokeColor: \"green\",\n      pointColor: \"green\",\n      data: []\n    }, {\n      label: \"Z\",\n      fillColor: \"rgba(220,220,220,0)\",\n      strokeColor: \"teal\",\n      pointColor: \"teal\",\n      data: []\n    }, {\n      label: \"Magnitude\",\n      fillColor: \"rgba(220,220,220,0)\",\n      strokeColor: \"orange\",\n      pointColor: \"orange\",\n      data: []\n    }]\n  };\n  var i = 0.0;\n  // add point\n  // clear\n  var myLineChart = new Chart(canvasContext).Line(data, {animation: false, animationSteps: 4, pointDot : false});\n  window.myLineChart = myLineChart\n  this.addPoint = function(point){\n    var date = new Date(point.timestamp)\n    // TODO plot only some legends\n    if (i % 1 === 0) {\n      myLineChart.addData([point.x, point.y, point.z, point.magnitude], date.getMinutes() + ':' + date.getSeconds() + 's');\n    } else {\n      myLineChart.addData([point.x, point.y, point.z, point.magnitude], '');\n    }\n    // DEBT make length part of config\n    if (myLineChart.datasets[0].points.length > 20) {\n      myLineChart.removeData();\n    }\n    i = i + 0.25;\n  }\n  this.clear = function(){\n    myLineChart.destroy();\n    // i = 0.0;\n    data.labels = [];\n    myLineChart = new Chart(canvasContext).Line(data, {animation: false, animationSteps: 4, pointDot : false});\n  }\n  this.setPoints = function(points){\n    // DEBT remove use of this\n    var self = this;\n    this.clear();\n    points.forEach(function(point){\n      self.addPoint(point);\n    })\n  }\n}\nready(function(){\n  var $root = document.documentElement;\n  var $uplinkStatusMessage = queryDisplay('uplink-status-message', $root);\n  var $trackerHoldingSnapshot = queryDisplay('tracker-holding-snapshot', $root);\n  var $trackerFollowingLive = queryDisplay('tracker-following-live', $root);\n  var $trackerFollowingFlight = queryDisplay('tracker-following-flight', $root);\n  var $alert = queryDisplay('alert', $root);\n  var alertDisplay = AlertDisplay($alert);\n\n  var $graphDisplay = queryDisplay('tracker-graph', $root);\n  var graphDisplay = GraphDisplay($graphDisplay);\n  window.graphDisplay = graphDisplay;\n  console.debug('dom is ready', $uplinkStatusMessage);\n\n  var mainView = {\n    render: function(projection){\n      // console.debug('Display rendering:', projection);\n      $uplinkStatusMessage.innerHTML = uplinkStatusMessageFromProjection(projection);\n      if (projection.flightOutputStatus === 'HOLDING_SNAPSHOT') {\n        $trackerHoldingSnapshot.style.display = '';\n        $trackerFollowingLive.style.display = 'none';\n        $trackerFollowingFlight.style.display = 'none';\n\n      } else if (projection.flightOutputStatus === 'FOLLOWING_LIVE') {\n        $trackerHoldingSnapshot.style.display = 'none';\n        $trackerFollowingLive.style.display = '';\n        $trackerFollowingFlight.style.display = 'none';\n\n      } else if (projection.flightOutputStatus === 'FOLLOWING_FLIGHT') {\n        $trackerHoldingSnapshot.style.display = 'none';\n        $trackerFollowingLive.style.display = 'none';\n        $trackerFollowingFlight.style.display = '';\n      }\n      var alertMessage = projection.alert;\n      if (alertMessage) {\n        alertDisplay.message = alertMessage;\n        alertDisplay.active = true;\n      } else {\n        alertDisplay.active = false;\n      }\n      // graphDisplay.setPoints(projection.flightSnapshot || projection.liveFlight);\n      // console.log(projection.flightSnapshot || projection.liveFlight);\n    },\n    addReading(newReading){\n      graphDisplay.addPoint(newReading);\n    },\n    setReadings(readings){\n      graphDisplay.setPoints(readings);\n    }\n  };\n  tracker.showcase.addView(mainView);\n});\n\n\n// Dom views should be initialized with the ready on certain selectors library\nfunction queryDisplay(display, element){\n  return element.querySelector('[data-display~=' + display + ']');\n}\n"],"names":["Showcase","AlertDisplay"],"mappings":"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"}