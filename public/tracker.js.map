{"version":3,"file":"tracker.js","sources":["..//home/peter/Workshop14/lob/client/carbide/key-error.js","..//home/peter/Workshop14/lob/client/carbide/struct.js","..//home/peter/Workshop14/lob/client/tracker/state.js","..//home/peter/Workshop14/lob/client/tracker/tracker.js","..//home/peter/Workshop14/lob/node_modules/strict-uri-encode/index.js","..//home/peter/Workshop14/lob/node_modules/query-string/index.js","..//home/peter/Workshop14/lob/client/uri.js","..//home/peter/Workshop14/lob/client/tracker/uplink-controller.js","..//home/peter/Workshop14/lob/client/tracker.js"],"sourcesContent":["/* jshint esnext: true */\n\nexport function KeyError(key) {\n  this.name = \"KeyError\";\n  this.message = \"key \\\"\" + key + \"\\\" not found\";\n  this.stack = (new Error()).stack;\n}\nKeyError.prototype = Object.create(Error.prototype);\nKeyError.prototype.constructor = KeyError;\n\nexport default KeyError;\n","/* jshint esnext: true */\n\nimport KeyError from \"./key-error\";\n\nexport function Struct(defaults, source){\n  \"use strict\";\n  if ( !(this instanceof Struct) ) { return new Struct(defaults, source); }\n\n  Object.assign(this, defaults);\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (!this.hasOwnProperty(key)) {\n        throw new KeyError(key);\n      }\n      this[key] = source[key];\n    }\n  }\n  Object.freeze(this);\n}\n\nStruct.prototype.hasKey = function (key) {\n  return Object.keys(this).indexOf(key) !== -1;\n};\n\nStruct.prototype.fetch = function (key) {\n  if (this.hasKey(key)) {\n    return this[key];\n  } else {\n    throw new KeyError(key);\n  }\n};\n\nStruct.prototype.set = function (key, value) {\n  if (this[key] === value) {\n    return this;\n  }\n  var tmp = {};\n  tmp[key] = value;\n  return this.merge(tmp);\n};\n\nStruct.prototype.update = function (key, operation) {\n  return this.set(key, operation(this[key]));\n};\n\nStruct.prototype.merge = function (other) {\n  return Struct(this, other);\n};\n\nexport default Struct;\n","/* jshint esnext: true */\n\nimport Struct from \"../carbide/struct\";\n\nvar STATE_DEFAULTS = {\n  uplinkStatus: \"UNKNOWN\",\n  latestReading: null, // DEBT best place a null object here\n  currentFlight: [],\n  flightHistory: [],\n};\n\nfunction State(raw){\n  if ( !(this instanceof State) ) { return new State(raw); }\n\n  return Struct.call(this, STATE_DEFAULTS, raw);\n}\n\nState.prototype = Object.create(Struct.prototype);\nState.prototype.constructor = State;\n\nexport default State;\n","/* jshint esnext: true */\n\nimport State from \"./state\";\n\nfunction Tracker(raw_state){\n  var tracker = this;\n  tracker.state = State(raw_state);\n\n  function logInfo() {\n    tracker.logger.info.apply(tracker.logger, arguments);\n  }\n\n  function projectState(state){\n    return {\n      x: state.latestReading\n      // channel: state.channelName,\n      // token: state.token.slice(0, 4) + \"...\"\n    };\n  }\n  var view;\n  tracker.showcase = {\n    dispatch: function(state){\n      // var projection = new Projection(state);\n      if(view){\n        view(projectState(state));\n      }\n    },\n    register: function(newView){\n      newView(projectState(tracker.state));\n      view = newView;\n    }\n  };\n\n  // The tracker application has an internal state.\n  // All observers know that the can watch a given projection of that state\n  // project and present overloaded verbs.\n  // options showcase or exhibit\n  function showcase(state){\n    // The tracker just cares that its state is shown somewhere\n    tracker.showcase.dispatch(state);\n  }\n\n  tracker.uplinkAvailable = function(){\n    // Set state action can cause projection to exhibit new state\n    tracker.state = tracker.state.set(\"uplinkStatus\", \"AVAILABLE\");\n    // call log change. test listeners that the state has changed.\n    logInfo(\"[Uplink Available]\");\n    showcase(tracker.state);\n  };\n\n  tracker.newReading = function(reading){\n    var state = tracker.state.set(\"latestReading\", reading);\n    var currentFlight = state.currentFlight;\n    var flightHistory = state.flightHistory;\n    if (reading.magnitude < 4) {\n      currentFlight =  currentFlight.concat(reading);\n    } else if(currentFlight[0]) {\n      // DEBT concat splits array so we double wrap the flight\n      flightHistory = flightHistory.concat([currentFlight]);\n      currentFlight = [];\n    }\n    state = state.set(\"currentFlight\", currentFlight);\n    state = state.set(\"flightHistory\", flightHistory);\n    tracker.state = state;\n    // DEBT might want to log this action too\n  };\n\n  tracker.resetReadings = function(){\n    tracker.state = tracker.state.merge({\n      latestReading: null,\n      currentFlight: [],\n      flightHistory: []\n    });\n  };\n}\n\nexport default Tracker;\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16);\n\t});\n};\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n\tif (typeof str !== 'string') {\n\t\treturn {};\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn {};\n\t}\n\n\treturn str.split('&').reduce(function (ret, param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\tkey = decodeURIComponent(key);\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\tret[key] = val;\n\t\t} else if (Array.isArray(ret[key])) {\n\t\t\tret[key].push(val);\n\t\t} else {\n\t\t\tret[key] = [ret[key], val];\n\t\t}\n\n\t\treturn ret;\n\t}, {});\n};\n\nexports.stringify = function (obj) {\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn key;\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\treturn val.sort().map(function (val2) {\n\t\t\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val2);\n\t\t\t}).join('&');\n\t\t}\n\n\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","\"use strict\";\nimport Struct from \"./carbide/struct\";\nimport * as QString from \"query-string\";\n\nvar URI_DEFAULTS = {\n  path: [],\n  query: {},\n};\n\nfunction URI(raw){\n  if ( !(this instanceof URI) ) { return new URI(raw); }\n\n  return Struct.call(this, URI_DEFAULTS, raw);\n}\n\nURI.prototype = Object.create(Struct.prototype);\nURI.prototype.constructor = URI;\n\nexport function parseLocation(location){\n  var query = QString.parse(location.search);\n  var path = location.pathname.substring(1).split(\"/\");\n  return new URI({path: path, query: query});\n}\n","// Could also be called UplinkDriver - might be more suitable\n// RESPONSIBILITY - Drive the tracker application in response to messages from the Ably uplink\n\n/* jshint esnext: true */\nexport default function UplinkController(options, tracker){\n  var channelName = options.channel;\n  var token = options.token;\n  var realtime = new Ably.Realtime({ token: token });\n  realtime.connection.on(\"connected\", function(err) {\n    // If we keep explicitly passing channel data to the controller we should pass it to the main app here\n    tracker.uplinkAvailable();\n  });\n  realtime.connection.on(\"failed\", function(err) {\n    tracker.uplinkFailed();\n  });\n  var channel = realtime.channels.get(channelName);\n  channel.subscribe(\"newReading\", function(event){\n    // new Vector(event.data);\n    tracker.newReading(event.data);\n  });\n  channel.subscribe(\"resetReadings\", function(_event){\n    // event information not needed\n    tracker.resetReadings();\n  });\n}\n\n// uplink controller does very little work so it is not separated from uplink\n\n// function Uplink(options, logger){\n//   var channelName = options.channel;\n//   var token = options.token;\n//   var realtime = new Ably.Realtime({ token: token });\n//   var channel = realtime.channels.get(channelName);\n//   realtime.connection.on(\"connected\", function(err) {\n//     console.log(\"realtime connected\");\n//   });\n//   realtime.connection.on(\"failed\", function(err) {\n//     console.log(\"realtime connection failed\");\n//   });\n// }\n","/* jshint esnext: true */\n\nimport Tracker from \"./tracker/tracker\";\n\nvar tracker = new Tracker();\ntracker.logger = window.console;\n\nfunction Projection(){\n  // Could be past console\n  var views = [];\n  var projection;\n  this.update = function(state){\n    // return projection\n    projection = {\n      channel: state.channelName,\n      token: state.token.slice(0, 4) + \"...\"\n    };\n  };\n  this.watch = function(view){\n    view(projection);\n    views.push(view);\n  };\n}\n\nimport UplinkController from \"./tracker/uplink-controller\";\n\nimport * as URI from \"./uri\";\nvar uri = URI.parseLocation(window.location);\n\nvar uplinkController = new UplinkController({\n  token: uri.query.token,\n  channel: uri.query.channel\n}, tracker);\n\nexport default tracker;\n\nfunction ConsoleView(logger){\n  function wrap(projection){\n    return \"listening on: \" + projection.channel + \" with token: \" + projection.token;\n    // returns presentation\n  }\n\n  this.render = function(projection){\n    logger.info(wrap(projection));\n  };\n}\n\nvar consoleView = new ConsoleView(window.console);\ntracker.showcase.register(consoleView.render);\n// Dom views should be initialized with the ready on certain selectors library\n"],"names":["index","QString.parse","URI.parseLocation"],"mappings":"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"}