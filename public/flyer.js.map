{"version":3,"file":"flyer.js","sources":["..//home/peter/Workshop14/lob/client/carbide/key-error.js","..//home/peter/Workshop14/lob/client/carbide/struct.js","..//home/peter/Workshop14/lob/client/flyer/projection.js","..//home/peter/Workshop14/lob/client/lib/reading.js","..//home/peter/Workshop14/lob/client/flyer/flyer.js","..//home/peter/Workshop14/lob/node_modules/strict-uri-encode/index.js","..//home/peter/Workshop14/lob/node_modules/query-string/index.js","..//home/peter/Workshop14/lob/client/uri.js","..//home/peter/Workshop14/lob/client/avionics/presenter.js","..//home/peter/Workshop14/lob/client/avionics/display.js","..//home/peter/Workshop14/lob/client/alert/display.js","..//home/peter/Workshop14/lob/client/flyer.js"],"sourcesContent":["/* jshint esnext: true */\n\nexport function KeyError(key) {\n  this.name = \"KeyError\";\n  this.message = \"key \\\"\" + key + \"\\\" not found\";\n  this.stack = (new Error()).stack;\n}\nKeyError.prototype = Object.create(Error.prototype);\nKeyError.prototype.constructor = KeyError;\n\nexport default KeyError;\n","/* jshint esnext: true */\n\nimport KeyError from \"./key-error\";\n\nexport function Struct(defaults, source){\n  \"use strict\";\n  if ( !(this instanceof Struct) ) { return new Struct(defaults, source); }\n\n  Object.assign(this, defaults);\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (!this.hasOwnProperty(key)) {\n        throw new KeyError(key);\n      }\n      this[key] = source[key];\n    }\n  }\n  Object.freeze(this);\n}\n\nStruct.prototype.hasKey = function (key) {\n  return Object.keys(this).indexOf(key) !== -1;\n};\n\nStruct.prototype.fetch = function (key) {\n  if (this.hasKey(key)) {\n    return this[key];\n  } else {\n    throw new KeyError(key);\n  }\n};\n\nStruct.prototype.set = function (key, value) {\n  if (this[key] === value) {\n    return this;\n  }\n  var tmp = {};\n  tmp[key] = value;\n  return this.merge(tmp);\n};\n\nStruct.prototype.update = function (key, operation) {\n  return this.set(key, operation(this[key]));\n};\n\nStruct.prototype.merge = function (other) {\n  return Struct(this, other);\n};\n\nexport default Struct;\n","/* jshint esnext: true */\n\nfunction readingsDuration(readings){\n  if (!readings[0]) { return 0; }\n  var last = readings.length;\n  var t0 = readings[0].timestamp;\n  var t1 = readings[last - 1].timestamp;\n  // DEBT Magic number that make sense when sample rate is every 250ms\n  return (t1 + 250 - t0) / 1000;\n}\nfunction altitudeForFreefallDuration(duration){\n  // Altitude Calculation\n\n  // SUVAT\n  // s = vt - 0.5 * a * t^2\n  // input\n  // s = s <- desired result\n  // u = ? <- not needed\n  // v = 0 <- stationary at top\n  // a = - 9.81 <- local g\n  // t = flightTime/2 time to top of arc\n\n  // s = 9.81 * 1/8 t^2\n  var t = duration;\n  return 9.81/8 * t * t;\n}\n\nfunction round(number){\n  return parseFloat(number.toFixed(2));\n}\n\nfunction Projection(raw){\n\n  Object.defineProperty(this, \"maxFlightTime\", {\n    get: function(){\n      var flights = raw.flightHistory.concat([raw.currentFlight]);\n      var flightDurations = flights.map(readingsDuration);\n      var time =  Math.max.apply(null, flightDurations);\n      return time;\n    }\n  });\n\n  Object.defineProperty(this, \"maxAltitude\", {\n    get: function(){\n      var flightDurations = raw.flightHistory.map(readingsDuration);\n      var max = Math.max.apply(null, [0].concat(flightDurations));\n      return round(altitudeForFreefallDuration(max));\n    }\n  });\n\n  Object.defineProperty(this, \"currentReading\", {\n    get: function(){\n      return raw.currentReading;\n    }\n  });\n\n  Object.defineProperty(this, \"hasThrow\", {\n    get: function(){\n      return this.maxAltitude !== 0;\n    }\n  });\n\n  Object.defineProperty(this, \"uplinkStatus\", {\n    get: function(){\n      return raw.uplinkStatus;\n    }\n  });\n  Object.defineProperty(this, \"channelName\", {\n    get: function(){\n      return raw.uplinkDetails.channelName;\n    }\n  });\n  Object.defineProperty(this, \"alert\", {\n    get: function(){\n      return raw.alert;\n    }\n  });\n}\n\nexport function project(app){\n  return new Projection(app);\n}\nexport default project;\n","/* jshint esnext: true */\n\nfunction roundtoFour(number) {\n  return parseFloat(number.toFixed(4));\n}\n\nexport default function Reading(raw, clock){\n  if ( !(this instanceof Reading) ) { return new Reading(raw, clock); }\n\n  this.x = raw.x;\n  this.y = raw.y;\n  this.z = raw.z;\n  this.timestamp = clock.now();\n\n  if (typeof this.x !== \"number\") {\n    throw new TypeError(\"Reading should have numerical values for x, y, z\");\n  }\n}\n\nObject.defineProperty(Reading.prototype, \"magnitude\", {\n  get: function(){\n    return roundtoFour(Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z));\n  }\n});\n","/* jshint esnext: true */\n\n// import * as State from \"./state\";\nimport Projection from \"./projection\";\nimport Reading from \"../lib/reading\";\n\nimport Struct from \"../carbide/struct\";\n\nvar FLYER_STATE_DEFAULTS = {\n  uplinkStatus: \"UNKNOWN\",\n  uplinkDetails: {},\n  latestReading: null, // DEBT best place a null object here\n  currentFlight: [],\n  flightHistory: [],\n  alert: \"\"\n};\n// DEBT not quite sure why this can't just be named state;\nfunction FlyerState(raw){\n  if ( !(this instanceof FlyerState) ) { return new FlyerState(raw); }\n\n  // DEBT with return statement is not an instance of FlyerState.\n  // without return statement does not work at all.\n  return Struct.call(this, FLYER_STATE_DEFAULTS, raw);\n}\n\nFlyerState.prototype = Object.create(Struct.prototype);\nFlyerState.prototype.constructor = FlyerState;\n\nvar INVALID_STATE_MESSAGE = \"Flyer did not recieve valid initial state\";\n\nexport default function Flyer(state){\n  if ( !(this instanceof Flyer) ) { return new Flyer(state); }\n  try {\n    state = FlyerState(state || {});\n  } catch (e) {\n    throw new TypeError(INVALID_STATE_MESSAGE);\n  }\n\n  var flyer = this;\n  flyer.state = state;\n\n  flyer.uplinkAvailable = function(details){\n    // Set state action can cause projection to exhibit new state\n    flyer.state = flyer.state.set(\"uplinkStatus\", \"AVAILABLE\");\n    flyer.state = flyer.state.set(\"uplinkDetails\", details);\n    // call log change. test listeners that the state has changed.\n    // stateChange({state: state, action: \"Uplink Available\", log: debug});\n    logInfo(\"Uplink Available\", details);\n    showcase(flyer.state);\n  };\n  this.startTransmitting = function(){\n    // TODO test and handle case when uplink not available.\n    flyer.state = flyer.state.set(\"uplinkStatus\", \"TRANSMITTING\");\n    showcase(flyer.state);\n  };\n  flyer.newReading = function(raw){\n    try {\n      var reading = Reading(raw, flyer.clock);\n      var state = flyer.state.set(\"latestReading\", reading);\n      var currentFlight = state.currentFlight;\n      var flightHistory = state.flightHistory;\n      if (reading.magnitude < 4) {\n        currentFlight =  currentFlight.concat(reading);\n      } else if(currentFlight[0]) {\n        // DEBT concat splits array so we double wrap the flight\n        flightHistory = flightHistory.concat([currentFlight]);\n        currentFlight = [];\n      }\n      state = state.set(\"currentFlight\", currentFlight);\n      state = state.set(\"flightHistory\", flightHistory);\n      flyer.state = state;\n      transmitReading(reading);\n    } catch (err) {\n      // Debt change to invalid reading\n      if (err instanceof TypeError) {\n        flyer.state = flyer.state.set(\"alert\", \"Accelerometer not found for this device. Please try again on a different mobile\");\n        showcase(flyer.state);\n        logInfo(\"Bad reading\", raw); // Untested\n      } else {\n        throw err;\n      }\n    }\n    // logInfo(\"[New reading]\", reading); DONT log this\n    showcase(flyer.state);\n  };\n  flyer.resetReadings = function(){\n    flyer.state = flyer.state.merge({\n      latestReading: null,\n      currentFlight: [],\n      flightHistory: []\n    });\n    // transmit\n    logInfo(\"[Reset readings]\"); // Untested\n    showcase(flyer.state); // Untested\n  };\n\n  flyer.uplinkFailed = function(){\n    flyer.state = flyer.state.set(\"uplinkStatus\", \"FAILED\");\n    showcase(flyer.state);\n    logInfo(\"[Uplink Failed]\");\n  };\n\n  flyer.closeAlert = function(){\n    // DEBT untested\n    flyer.state = flyer.state.set(\"alert\", \"\");\n    showcase(flyer.state);\n    logInfo(\"Alert closed\");\n  };\n\n  // DEBT what to do before other values are set\n  function transmitReading(reading){\n    if (flyer.state.uplinkStatus === \"TRANSMITTING\") {\n      flyer.uplink.transmitReading(reading);\n    }\n  }\n  function showcase(state){\n    flyer.view.render(Projection(state));\n  }\n  function logInfo() {\n    flyer.logger.info.apply(flyer.logger, arguments);\n  }\n  // DEBT should be set separatly for Testing\n  flyer.clock = window.Date;\n}\nFlyer.State = FlyerState;\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16);\n\t});\n};\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n\tif (typeof str !== 'string') {\n\t\treturn {};\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn {};\n\t}\n\n\treturn str.split('&').reduce(function (ret, param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\tkey = decodeURIComponent(key);\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\tret[key] = val;\n\t\t} else if (Array.isArray(ret[key])) {\n\t\t\tret[key].push(val);\n\t\t} else {\n\t\t\tret[key] = [ret[key], val];\n\t\t}\n\n\t\treturn ret;\n\t}, {});\n};\n\nexports.stringify = function (obj) {\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn key;\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\treturn val.sort().map(function (val2) {\n\t\t\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val2);\n\t\t\t}).join('&');\n\t\t}\n\n\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","\"use strict\";\nimport Struct from \"./carbide/struct\";\nimport * as QString from \"query-string\";\n\nvar URI_DEFAULTS = {\n  path: [],\n  query: {},\n};\n\nfunction URI(raw){\n  if ( !(this instanceof URI) ) { return new URI(raw); }\n\n  return Struct.call(this, URI_DEFAULTS, raw);\n}\n\nURI.prototype = Object.create(Struct.prototype);\nURI.prototype.constructor = URI;\n\nexport function parseLocation(location){\n  var query = QString.parse(location.search);\n  var path = location.pathname.substring(1).split(\"/\");\n  return new URI({path: path, query: query});\n}\n","/* jshint esnext: true */\n\nexport function format(i){\n  var fixed = i.toFixed(2);\n  var signed = i < 0 ? fixed : \"+\" + fixed;\n  var short = \"+00.00\".length - signed.length;\n  var padded = (short == 1) ? signed.replace(/[\\+\\-]/, function(sign){ return sign + \"0\"; }) : signed;\n  return padded;\n}\n\nfunction Presenter(raw){\n\n  Object.defineProperty(this, \"maxFlightTime\", {\n    get: function(){\n      return raw.maxFlightTime + \" s\";\n    }\n  });\n\n  Object.defineProperty(this, \"maxAltitude\", {\n    get: function(){\n      return raw.maxAltitude + \" m\";\n    }\n  });\n\n  Object.defineProperty(this, \"currentReadout\", {\n    get: function(){\n      // DEBT replace with reading toString method\n      if (!raw.currentReading) {\n        return \"Waiting.\";\n      }\n      var acceleration = raw.currentReading.acceleration;\n      var x = acceleration.x;\n      var y = acceleration.y;\n      var z = acceleration.z;\n      return \"[\" + [format(x), format(y), format(z)].join(\", \") + \"]\";\n    }\n  });\n\n  Object.defineProperty(this, \"instruction\", {\n    get: function(){\n      if (!this.hasThrow) {\n        return \"Lob phone to get started\";\n      }\n      return \"OK! can you lob any higher\";\n    }\n  });\n\n  Object.defineProperty(this, \"uplinkStatus\", {\n    get: function(){\n      return raw.uplinkStatus.toLowerCase();\n    }\n  });\n  Object.defineProperty(this, \"channelName\", {\n    get: function(){\n      return raw.channelName;\n    }\n  });\n}\n\nexport function present(app){\n  return new Presenter(app);\n}\nexport default present;\n","/* jshint esnext: true */\n\nfunction Display($root){\n  var $maxFlightTime = $root.querySelector(\"[data-hook~=flight-time]\");\n  var $maxAltitude = $root.querySelector(\"[data-hook~=max-altitude]\");\n  var $currentReadout = $root.querySelector(\"[data-hook~=current-reading]\");\n  var $instruction = $root.querySelector(\"[data-display~=instruction]\");\n  var $uplink = $root.querySelector(\"[data-display~=uplink]\");\n  var $channel = $root.querySelector(\"[data-display~=channel]\");\n\n  return Object.create({}, {\n    maxFlightTime: {\n      set: function(maxFlightTime){\n        $maxFlightTime.innerHTML = maxFlightTime;\n      },\n      enumerable: true\n    },\n    maxAltitude: {\n      set: function(maxAltitude){\n        $maxAltitude.innerHTML = maxAltitude;\n      },\n      enumerable: true\n    },\n    currentReadout: {\n      set: function(currentReadout){\n        $currentReadout.innerHTML = currentReadout;\n      },\n      enumerable: true\n    },\n    instruction: {\n      set: function(instruction){\n        $instruction.innerHTML = instruction;\n      },\n      enumerable: true\n    },\n    channelName: {\n      set: function(channel){\n        var content = \"Watch on channel '\" + channel + \"'\";\n        $channel.innerHTML = content;\n      },\n      enumerable: true\n    },\n    uplinkStatus: {\n      set: function(status){\n        $uplink.classList.remove(\"unknown\");\n        $uplink.classList.remove(\"available\");\n        $uplink.classList.remove(\"transmitting\");\n        $uplink.classList.remove(\"failed\");\n        $uplink.classList.add(status);\n      },\n      enumerable: true\n    }\n  });\n\n}\n\nexport function create($root){ Display($root); }\n\nexport default Display;\n","/* jshint esnext: true */\n\nexport default function Display($root){\n  var $message = $root.querySelector(\"[data-display~=message]\");\n  return Object.create({}, {\n    active: {\n      set: function(active){\n        var ACTIVE = \"active\";\n        if (active) {\n          $root.classList.add(ACTIVE);\n        } else {\n          $root.classList.remove(ACTIVE);\n        }\n      },\n      enumerable: true\n    },\n    message: {\n      set: function(message){\n        console.log(message);\n        $message.innerHTML = message;\n      }\n    }\n  });\n}\n","/* jshint esnext: true */\nimport Flyer from \"./flyer/flyer\";\nimport Presenter from \"./avionics/presenter\";\nimport Display from \"./avionics/display\";\nimport AlertDisplay from \"./alert/display\";\n\nvar flyer = new Flyer();\nflyer.logger = window.console;\nflyer.view = {\n  render: function(projection){\n    var presentation = Presenter(projection);\n    var $avionics = document.querySelector(\"[data-interface~=avionics]\");\n    var $alert = document.querySelector(\"[data-display~=alert]\");\n    var display = new Display($avionics);\n    for (var attribute in display) {\n      if (display.hasOwnProperty(attribute)) {\n        display[attribute] = presentation[attribute];\n      }\n    }\n    var alertDisplay = AlertDisplay($alert);\n    var alertMessage = projection.alert;\n    if (alertMessage) {\n      alertDisplay.message = alertMessage;\n      alertDisplay.active = true;\n    } else {\n      alertDisplay.active = false;\n    }\n  }\n};\n\nvar DEVICEMOTION = \"devicemotion\";\nfunction AccelerometerController(global, flyer){\n  global.addEventListener(DEVICEMOTION, function(deviceMotionEvent){\n    console.debug(\"AccelerometerController\", deviceMotionEvent);\n    flyer.newReading(deviceMotionEvent.accelerationIncludingGravity);\n  });\n}\n\nvar accelerometerController = new AccelerometerController(window, flyer);\n\n// import FlyerUplinkController from \"./flyer/flyer-uplink-controller\";\nexport default function FlyerUplinkController(options, tracker){\n  var channelName = options.channel;\n  var token = options.token;\n  var realtime = new Ably.Realtime({ token: token });\n  realtime.connection.on(\"connected\", function(err) {\n    // If we keep explicitly passing channel data to the controller we should pass it to the main app here\n    flyer.uplinkAvailable({token: token, channelName: channelName});\n  });\n  realtime.connection.on(\"failed\", function(err) {\n    flyer.uplinkFailed();\n  });\n  var channel = realtime.channels.get(channelName);\n  tracker.uplink = {\n    transmitReading: function(reading){\n      channel.publish(\"newReading\", reading, function(err) {\n        // DEBT use provided console for messages\n        // i.e. have message successful as app actions\n        if(err) {\n          console.warn(\"Unable to publish message; err = \" + err.message);\n        } else {\n          console.info(\"Message successfully sent\", reading);\n        }\n      });\n    }\n  };\n}\n\nimport * as URI from \"./uri\";\nvar uri = URI.parseLocation(window.location);\n\nvar uplinkController = FlyerUplinkController({\n  token: uri.query.token,\n  channel: uri.query.channel\n}, flyer);\nexport default flyer;\n"],"names":["Projection","index","QString.parse","Display","Presenter","AlertDisplay","URI.parseLocation"],"mappings":"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"}