{"version":3,"file":"flyer.js","sources":["..//Users/mattheworiordan/Projects/Ably/demos/lob/client/router.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/config.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/utils/fn.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/flyer/uplink.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/carbide/key-error.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/carbide/struct.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/flyer/state.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/flyer/projection.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/lib/reading.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/flyer.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/flyer/view/presenter.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/flyer/view/display.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/alert/display.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/flyer/view.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/utils/polyfill.js","..//Users/mattheworiordan/Projects/Ably/demos/lob/client/flyer.boot.js"],"sourcesContent":["/* jshint esnext: true */\n\n// Router makes use of current location\n// Router should always return some value of state it does not have the knowledge to regard it as invalid\n// Router is currently untested\n// Router does not follow modifications to the application location.\n// Router is generic for tracker and flyer at the moment\n// location is a size cause and might make sense to be lazily applied\nexport default function Router(location){\n  if ( !(this instanceof Router) ) { return new Router(location); }\n  var router = this;\n  router.location = location;\n\n  function getState(){\n    return {\n      token: getQueryParameter('token', router.location.search),\n      channelName: getQueryParameter('channel-name', router.location.search)\n    };\n  }\n\n  Object.defineProperty(router, 'state', {\n    get: getState\n  });\n}\n\nexport function getQueryParameter(name, queryString) {\n  name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n  var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n  results = regex.exec(queryString);\n  return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n","export var readingPublishLimit = 250; // ms\n","/* jshint esnext: true */\n\nexport function argsToArray(args){\n  return Array.prototype.slice.call(args);\n}\n\nexport function throttle(fn, threshhold, scope) {\n  threshhold = threshhold;\n  var last,\n  deferTimer;\n  return function () {\n    var context = scope || this;\n    var now = Date.now(), args = arguments;\n\n    if (last && now < last + threshhold) {\n      // hold on to it\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(function () {\n        last = now;\n        fn.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\n","import { throttle } from \"../utils/fn\";\n\nexport default function FlyerUplink(options, logger) {\n  if ( !(this instanceof FlyerUplink) ) { return new FlyerUplink(options, logger); }\n  var uplink = this;\n  logger.info('Starting uplink', options);\n\n  var channelName = options.channelName;\n  var token = options.token;\n  var newReadingRateLimit = options.rateLimit;\n  var client = new Ably.Realtime({ token: token });\n  var channel = client.channels.get(channelName);\n  this._ablyClient = client;\n  this._ablyChannel = channel;\n  this.token = token;\n  this.channelName = channelName;\n  this.newReadingRateLimit = newReadingRateLimit;\n  \n  this.onconnected = function(){\n    // DEBT null op;\n  }\n  function transmitReading(reading){\n    channel.publish('newReading', reading, function(err){\n      if (err) {\n        window.console.warn(\"Unable to send new reading; err = \" + err.message);\n      }\n    })\n  }\n\n  this.transmitReading = throttle(transmitReading, newReadingRateLimit);\n  this.transmitResetReadings = function(){\n    channel.publish(\"resetReadings\", {}, function(err) {\n      if(err) {\n        window.console.warn(\"Unable to send reset readings; err = \" + err.message);\n      }\n    });\n  },\n  this.transmitIdentity = function(){\n    console.log('TODO update identity');\n  }\n\n  client.connection.on(\"connected\", function(err) {\n    uplink.onconnected();\n  });\n  client.connection.on(\"failed\", function(err) {\n    console.log('failed', err.reason.message);\n  });\n}\n","/* jshint esnext: true */\n\nexport function KeyError(key) {\n  this.name = \"KeyError\";\n  this.message = \"key \\\"\" + key + \"\\\" not found\";\n  this.stack = (new Error()).stack;\n}\nKeyError.prototype = Object.create(Error.prototype);\nKeyError.prototype.constructor = KeyError;\n\nexport default KeyError;\n","/* jshint esnext: true */\n\nimport KeyError from \"./key-error\";\n\nexport function Struct(defaults, source){\n  \"use strict\";\n  if ( !(this instanceof Struct) ) { return new Struct(defaults, source); }\n\n  Object.assign(this, defaults);\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (!this.hasOwnProperty(key)) {\n        throw new KeyError(key);\n      }\n      this[key] = source[key];\n    }\n  }\n  Object.freeze(this);\n}\n\nStruct.prototype.hasKey = function (key) {\n  return Object.keys(this).indexOf(key) !== -1;\n};\n\nStruct.prototype.fetch = function (key) {\n  if (this.hasKey(key)) {\n    return this[key];\n  } else {\n    throw new KeyError(key);\n  }\n};\n\nStruct.prototype.set = function (key, value) {\n  if (this[key] === value) {\n    return this;\n  }\n  var tmp = {};\n  tmp[key] = value;\n  return this.merge(tmp);\n};\n\nStruct.prototype.update = function (key, operation) {\n  return this.set(key, operation(this[key]));\n};\n\nStruct.prototype.merge = function (other) {\n  return Struct(this, other);\n};\n\nexport default Struct;\n","import Struct from \"../carbide/struct\";\n\nvar FLYER_STATE_DEFAULTS = {\n  uplinkStatus: \"UNKNOWN\",\n  uplinkDetails: {},\n  latestReading: null, // DEBT best place a null object here\n  currentFlight: [],\n  flightHistory: [],\n  identity: '',\n  alert: \"\"\n};\n// DEBT not quite sure why this can't just be named state;\nexport default function FlyerState(raw){\n  if ( !(this instanceof FlyerState) ) { return new FlyerState(raw); }\n\n  // DEBT with return statement is not an instance of FlyerState.\n  // without return statement does not work at all.\n  return Struct.call(this, FLYER_STATE_DEFAULTS, raw);\n}\n\nFlyerState.prototype = Object.create(Struct.prototype);\nFlyerState.prototype.constructor = FlyerState;\n","/* jshint esnext: true */\n\nfunction readingsDuration(readings){\n  if (!readings[0]) { return 0; }\n  var last = readings.length;\n  var t0 = readings[0].timestamp;\n  var t1 = readings[last - 1].timestamp;\n  // DEBT Magic number that make sense when sample rate is every 250ms\n  return (t1 + 250 - t0) / 1000;\n}\nfunction altitudeForFreefallDuration(duration){\n  // Altitude Calculation\n\n  // SUVAT\n  // s = vt - 0.5 * a * t^2\n  // input\n  // s = s <- desired result\n  // u = ? <- not needed\n  // v = 0 <- stationary at top\n  // a = - 9.81 <- local g\n  // t = flightTime/2 time to top of arc\n\n  // s = 9.81 * 1/8 t^2\n  var t = duration;\n  return 9.81/8 * t * t;\n}\n\nfunction round(number){\n  return parseFloat(number.toFixed(2));\n}\n\nfunction Projection(rawState){\n\n  Object.defineProperty(this, \"maxFlightTime\", {\n    get: function(){\n      var flights = rawState.flightHistory.concat([rawState.currentFlight]);\n      var flightDurations = flights.map(readingsDuration);\n      var time =  Math.max.apply(null, flightDurations);\n      return time;\n    }\n  });\n\n  Object.defineProperty(this, \"maxAltitude\", {\n    get: function(){\n      var flightDurations = rawState.flightHistory.map(readingsDuration);\n      var max = Math.max.apply(null, [0].concat(flightDurations));\n      return round(altitudeForFreefallDuration(max));\n    }\n  });\n\n  Object.defineProperty(this, \"latestReading\", {\n    get: function(){\n      return rawState.latestReading;\n    }\n  });\n\n  Object.defineProperty(this, \"hasThrow\", {\n    get: function(){\n      return this.maxAltitude !== 0;\n    }\n  });\n\n  Object.defineProperty(this, \"uplinkStatus\", {\n    get: function(){\n      return rawState.uplinkStatus;\n    }\n  });\n  Object.defineProperty(this, \"channelName\", {\n    get: function(){\n      return rawState.uplinkDetails.channelName;\n    }\n  });\n  Object.defineProperty(this, \"alert\", {\n    get: function(){\n      return rawState.alert;\n    }\n  });\n  Object.defineProperty(this, \"identity\", {\n    get: function(){\n      return rawState.identity;\n    }\n  });\n}\n\nexport function project(app){\n  return new Projection(app);\n}\nexport default project;\n","/* jshint esnext: true */\nfunction isRational(x, other) {\n  if (typeof x !== \"number\"){\n    return false;\n  }\n  if (!isFinite(x)){\n    return false;\n  }\n  var rest = Array.prototype.slice.call(arguments, 1);\n  if (rest.length > 0) {\n    return isRational.apply(this, rest);\n  }\n  return true;\n}\n\nfunction roundtoFour(number) {\n  return parseFloat(number.toFixed(4));\n}\n\nexport default function Reading(raw){\n  if ( !(this instanceof Reading) ) { return new Reading(raw); }\n\n  this.x = raw.x;\n  this.y = raw.y;\n  this.z = raw.z;\n  this.timestamp = raw.timestamp;\n\n  if (!isRational(this.x, this.y, this.z, this.timestamp)) {\n    throw new TypeError(\"Reading should have numerical values for x, y, z & timestamp\");\n  }\n}\n\nObject.defineProperty(Reading.prototype, \"magnitude\", {\n  get: function(){\n    return roundtoFour(Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z));\n  }\n});\n","/* jshint esnext: true */\n\nimport Projection from \"./flyer/projection\";\nimport Reading from \"./lib/reading\";\nimport FlyerState from './flyer/state'\n\nexport default function Flyer(state){\n  if ( !(this instanceof Flyer) ) { return new Flyer(state); }\n  state = FlyerState(state || {});\n\n  var flyer = this;\n  flyer.state = state;\n\n  flyer.uplinkAvailable = function(details){\n    flyer.state = flyer.state.merge({\n      \"uplinkStatus\": \"AVAILABLE\",\n      \"uplinkDetails\": details\n    });\n    logInfo(\"Uplink Available\", details);\n    showcase(flyer.state);\n  };\n  this.startTransmitting = function(){\n    // TODO test and handle case when uplink not available.\n    flyer.state = flyer.state.set(\"uplinkStatus\", \"TRANSMITTING\");\n    showcase(flyer.state);\n  };\n  flyer.newReading = function(raw){\n    try {\n      raw.timestamp = Date.now();\n      var reading = Reading(raw);\n      var state = flyer.state.set(\"latestReading\", reading);\n      var currentFlight = state.currentFlight;\n      var flightHistory = state.flightHistory;\n      if (reading.magnitude < 4) {\n        currentFlight =  currentFlight.concat(reading);\n      } else if(currentFlight[0]) {\n        // DEBT concat splits array so we double wrap the flight\n        flightHistory = flightHistory.concat([currentFlight]);\n        currentFlight = [];\n      }\n      state = state.set(\"currentFlight\", currentFlight);\n      state = state.set(\"flightHistory\", flightHistory);\n      flyer.state = state;\n      transmitReading(reading);\n    } catch (err) {\n      // Debt change to invalid reading\n      if (err instanceof TypeError) {\n        flyer.state = flyer.state.set(\"alert\", \"Accelerometer not found for this device. Please try again on a different mobile\");\n        showcase(flyer.state);\n        logInfo(\"Bad reading\", raw); // Untested\n      } else {\n        throw err;\n      }\n    }\n    // logInfo(\"[New reading]\", reading); DONT log this\n    showcase(flyer.state);\n  };\n  flyer.resetReadings = function(){\n    flyer.state = flyer.state.merge({\n      latestReading: null,\n      currentFlight: [],\n      flightHistory: []\n    });\n    // transmit\n    transmitResetReadings();\n    showcase(flyer.state); // Untested\n    logInfo(\"Reset readings\"); // Untested\n  };\n\n  flyer.uplinkFailed = function(){\n    flyer.state = flyer.state.set(\"uplinkStatus\", \"FAILED\");\n    showcase(flyer.state);\n    logInfo(\"[Uplink Failed]\");\n  };\n\n  flyer.updateIdentity = function(newIdentity){\n    flyer.state = flyer.state.set('identity', newIdentity);\n    logInfo('Updated identity', newIdentity);\n    transmitIdentity(newIdentity);\n    localStorage.setItem('lobIdentity', newIdentity);\n    showcase(flyer.state);\n  }\n\n  flyer.closeAlert = function(){\n    // DEBT untested\n    flyer.state = flyer.state.set(\"alert\", \"\");\n    showcase(flyer.state);\n    logInfo(\"Alert closed\");\n  };\n\n  // DEBT what to do before other values are set\n  function transmitReading(reading){\n    if (flyer.state.uplinkStatus === \"TRANSMITTING\") {\n      flyer.uplink.transmitReading(reading);\n    }\n  }\n  function transmitResetReadings(){\n    if (flyer.state.uplinkStatus === \"TRANSMITTING\") {\n      flyer.uplink.transmitResetReadings();\n    }\n  }\n  function transmitIdentity(identity){\n    flyer.uplink.transmitIdentity(identity);\n  }\n  function showcase(state){\n    flyer.view.render(Projection(state));\n  }\n  function logInfo() {\n    flyer.logger.info.apply(flyer.logger, arguments);\n  }\n  // DEBT should be set separatly for Testing\n  flyer.clock = window.Date;\n}\nFlyer.State = FlyerState;\n","/* jshint esnext: true */\n\nexport function format(i){\n  var fixed = i.toFixed(2);\n  var signed = i < 0 ? fixed : \"+\" + fixed;\n  var short = \"+00.00\".length - signed.length;\n  var padded = (short == 1) ? signed.replace(/[\\+\\-]/, function(sign){ return sign + \"0\"; }) : signed;\n  return padded;\n}\n\nfunction Presenter(projection){\n\n  Object.defineProperty(this, \"maxFlightTime\", {\n    get: function(){\n      return projection.maxFlightTime + \" s\";\n    }\n  });\n\n  Object.defineProperty(this, \"maxAltitude\", {\n    get: function(){\n      return projection.maxAltitude + \" m\";\n    }\n  });\n\n  Object.defineProperty(this, \"currentReadout\", {\n    get: function(){\n      // DEBT replace with reading toString method\n      if (!projection.latestReading) {\n        return \"Waiting.\";\n      }\n      var acceleration = projection.latestReading;\n      var x = acceleration.x;\n      var y = acceleration.y;\n      var z = acceleration.z;\n      return \"[\" + [format(x), format(y), format(z)].join(\", \") + \"]\";\n    }\n  });\n\n  Object.defineProperty(this, \"instruction\", {\n    get: function(){\n      console.log(this)\n      if (!this.hasThrow) {\n        return \"Lob phone to get started\";\n      }\n      return \"OK! can you lob any higher\";\n    }\n  });\n\n  Object.defineProperty(this, \"hasThrow\", {\n    get: function(){\n      return projection.hasThrow;\n    }\n  });\n\n  Object.defineProperty(this, \"uplinkStatus\", {\n    get: function(){\n      return projection.uplinkStatus.toLowerCase();\n    }\n  });\n  Object.defineProperty(this, \"channelName\", {\n    get: function(){\n      return projection.channelName;\n    }\n  });\n  Object.defineProperty(this, \"identity\", {\n    get: function(){\n      return projection.identity;\n    }\n  });\n}\n\nexport function present(app){\n  return new Presenter(app);\n}\nexport default present;\n","/* jshint esnext: true */\n\nfunction Display($root){\n  var $maxFlightTime = $root.querySelector(\"[data-hook~=flight-time]\");\n  var $maxAltitude = $root.querySelector(\"[data-hook~=max-altitude]\");\n  var $SubmittedMaxAltitude = $root.querySelector(\"[data-display~=submitted-max-altitude]\");\n  var $currentReadout = $root.querySelector(\"[data-hook~=current-reading]\");\n  var $instruction = $root.querySelector(\"[data-display~=instruction]\");\n  var $uplink = $root.querySelector(\"[data-display~=uplink]\");\n  var $channel = $root.querySelector(\"[data-display~=channel]\");\n  var $identity = $root.querySelector(\"[data-display~=identity]\");\n  var $submittedIdentity = $root.querySelector(\"[data-display~=submitted-identity]\");\n  var $submitFlight = $root.querySelector(\"[data-display~=submit-flight]\");\n\n  return Object.create({}, {\n    maxFlightTime: {\n      set: function(maxFlightTime){\n        $maxFlightTime.innerHTML = maxFlightTime;\n      },\n      enumerable: true\n    },\n    maxAltitude: {\n      set: function(maxAltitude){\n        $maxAltitude.innerHTML = maxAltitude;\n        // DEBT logic in display to be removed\n        $SubmittedMaxAltitude.value = maxAltitude.split(' ')[0];\n        if (maxAltitude === '0 m') {\n          $submitFlight.disabled = true;\n        } else {\n          $submitFlight.disabled = false;\n        }\n      },\n      enumerable: true\n    },\n    currentReadout: {\n      set: function(currentReadout){\n        $currentReadout.innerHTML = currentReadout;\n      },\n      enumerable: true\n    },\n    instruction: {\n      set: function(instruction){\n        $instruction.innerHTML = instruction;\n      },\n      enumerable: true\n    },\n    channelName: {\n      set: function(channel){\n        var content = \"Watch on channel '\" + channel + \"'\";\n        $channel.innerHTML = content;\n      },\n      enumerable: true\n    },\n    uplinkStatus: {\n      set: function(status){\n        $uplink.classList.remove(\"unknown\");\n        $uplink.classList.remove(\"available\");\n        $uplink.classList.remove(\"transmitting\");\n        $uplink.classList.remove(\"failed\");\n        $uplink.classList.add(status);\n      },\n      enumerable: true\n    },\n    identity: {\n      set: function(identity){\n        if ($identity.value == '') {\n          $identity.value = identity;\n        }\n        $submittedIdentity.value = identity;\n      },\n      enumerable: true\n    }\n  });\n\n}\n\nexport function create($root){ Display($root); }\n\nexport default Display;\n","/* jshint esnext: true */\n\nexport default function Display($root){\n  var $message = $root.querySelector(\"[data-display~=message]\");\n  return Object.create({}, {\n    active: {\n      set: function(active){\n        var ACTIVE = \"active\";\n        if (active) {\n          $root.classList.add(ACTIVE);\n        } else {\n          $root.classList.remove(ACTIVE);\n        }\n      },\n      enumerable: true\n    },\n    message: {\n      set: function(message){\n        console.log(message);\n        $message.innerHTML = message;\n      }\n    }\n  });\n}\n","import Presenter from \"./view/presenter\";\nimport Display from \"./view/display\";\nimport AlertDisplay from \"../alert/display\";\n\nexport default function FlyerView(){\n  this.render = function render(projection){\n    var presentation = Presenter(projection);\n    var $avionics = document.querySelector(\"[data-interface~=avionics]\");\n    var $alert = document.querySelector(\"[data-display~=alert]\");\n    var display = new Display($avionics);\n    for (var attribute in display) {\n      if (display.hasOwnProperty(attribute)) {\n        display[attribute] = presentation[attribute];\n      }\n    }\n    var alertDisplay = AlertDisplay($alert);\n    var alertMessage = projection.alert;\n    if (alertMessage) {\n      alertDisplay.message = alertMessage;\n      alertDisplay.active = true;\n    } else {\n      alertDisplay.active = false;\n    }\n  }\n}\n","if (!Object.assign) {\n  Object.defineProperty(Object, 'assign', {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function(target) {\n      'use strict';\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert first argument to object');\n      }\n\n      var to = Object(target);\n      for (var i = 1; i < arguments.length; i++) {\n        var nextSource = arguments[i];\n        if (nextSource === undefined || nextSource === null) {\n          continue;\n        }\n        nextSource = Object(nextSource);\n\n        var keysArray = Object.keys(nextSource);\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n          var nextKey = keysArray[nextIndex];\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n      return to;\n    }\n  });\n}\n","/* jshint esnext: true */\nimport \"./utils/polyfill\";\nimport Flyer from \"./flyer\";\nimport Router from \"./router\";\nimport FlyerView from \"./flyer/view\";\nimport FlyerUplink from './flyer/uplink';\n\nimport { readingPublishLimit } from './config';\n\nvar lobIdentity = localStorage.getItem('lobIdentity');\nif (!lobIdentity) {\n  var parser = new UAParser();\n  var result = parser.getResult();\n  lobIdentity = result.device.model || result.browser.name;\n  try {\n    localStorage.setItem('lobIdentity', lobIdentity);\n  } catch (err) {\n    console.warn('set local storage failed');\n  }\n}\n\nvar router = Router(window.location);\n\nvar uplink = FlyerUplink({\n  token: router.state.token,\n  channelName: router.state.channelName,\n  rateLimit: readingPublishLimit\n}, window.console);\n\nvar flyer = Flyer({\n  identity: lobIdentity\n});\n\n\nflyer.logger = window.console;\nflyer.view = new FlyerView\nflyer.uplink = uplink;\n\nfunction AccelerometerController(global, flyer){\n  global.addEventListener('devicemotion', function(deviceMotionEvent){\n    flyer.newReading(deviceMotionEvent.accelerationIncludingGravity);\n  });\n}\n\nvar accelerometerController = new AccelerometerController(window, flyer);\n\nfunction UplinkController(uplink, application){\n  uplink.onconnected = function(){\n    application.uplinkAvailable({token: uplink.token, channelName: uplink.channelName});\n  }\n  uplink.onconnectionFailed = function(){\n    application.uplinkFailed();\n  }\n}\nvar uplinkController = new UplinkController(uplink, flyer);\nexport default flyer;\n"],"names":["Projection","Display","Presenter","AlertDisplay"],"mappings":"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"}